{"version":3,"file":"useRouterLink.js","sources":["../../src/composables/useRouterLink.ts"],"sourcesContent":["import { computed, PropType, getCurrentInstance, ExtractPropTypes } from 'vue'\n\nexport const useRouterLinkProps = {\n  tag: { type: String, default: 'span' },\n  to: { type: [String, Object] as PropType<string | Record<string, any>>, default: '' },\n  replace: { type: Boolean, default: false },\n  append: { type: Boolean, default: false },\n  exact: { type: Boolean, default: false },\n  activeClass: { type: String, default: '' },\n  exactActiveClass: { type: String, default: '' },\n  href: { type: String, default: '' },\n  target: { type: String, default: '' },\n  disabled: { type: Boolean, default: false },\n}\n\nexport const useRouterLink = (props: ExtractPropTypes<typeof useRouterLinkProps>) => {\n  const globalProperties = computed(() => getCurrentInstance()?.appContext.config.globalProperties)\n  const isNuxt = computed(() => !!globalProperties.value?.$nuxt)\n  const vueRouter = computed(() => globalProperties.value?.$router)\n  const vueRoute = computed(() => globalProperties.value?.$route)\n\n  const tagComputed = computed(() => {\n    if (props.disabled) { return props.tag }\n\n    if (props.href && !props.to) { return 'a' }\n\n    if (props.to) { return isNuxt.value ? 'nuxt-link' : 'router-link' }\n\n    return props.tag\n  })\n\n  const isLinkTag = computed(() => ['a', 'router-link', 'nuxt-link'].includes(tagComputed.value))\n\n  const isActiveRouterLink = computed(() => {\n    if (!vueRouter.value || !props.to) { return false }\n\n    const to = vueRouter.value.resolve(props.to).href\n    const currentHref = vueRouter.value.currentRoute.value.path\n\n    return to.replace('#', '') === currentHref.replace('#', '')\n  })\n\n  const hrefComputed = computed(() => {\n    // to resolve href on server for SEO optimization\n    // https://github.com/nuxt/nuxt.js/issues/8204\n    // @ts-ignore\n    return props.href || (props.to ? vueRouter.value?.resolve(props.to, vueRoute.value).href : '')\n  })\n\n  return {\n    tagComputed,\n    isActiveRouterLink,\n    hrefComputed,\n    isLinkTag,\n  }\n}\n"],"names":[],"mappings":"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"}