{"version":3,"file":"useFocus.js","sources":["../../src/composables/useFocus.ts"],"sourcesContent":["import { ref, onMounted, onBeforeUnmount, Ref } from 'vue'\n\nexport const useFocusEmits = ['focus', 'blur']\n\nexport function useFocus (\n  el?: Ref<HTMLElement | null | undefined>,\n  emit?: (event: 'focus' | 'blur', e?: Event) => void,\n) {\n  const isFocused = ref(false)\n\n  const onFocus = (e?: Event) => {\n    isFocused.value = true\n    emit?.('focus', e)\n  }\n\n  const onBlur = (e?: Event) => {\n    isFocused.value = false\n    emit?.('blur', e)\n  }\n\n  const focus = (): void => {\n    el?.value?.focus()\n  }\n\n  const blur = (): void => {\n    el?.value?.blur()\n  }\n\n  if (el) {\n    onMounted(() => {\n      if (el?.value instanceof HTMLElement) {\n        el.value?.addEventListener('focus', onFocus)\n        el.value?.addEventListener('blur', onBlur)\n      }\n    })\n    onBeforeUnmount(() => {\n      if (el?.value instanceof HTMLElement) {\n        el.value?.removeEventListener('focus', onFocus)\n        el.value?.removeEventListener('blur', onBlur)\n      }\n    })\n  }\n\n  return {\n    isFocused,\n    onFocus,\n    onBlur,\n    focus,\n    blur,\n  }\n}\n"],"names":[],"mappings":";;MAEa,aAAa,GAAG,CAAC,OAAO,EAAE,MAAM,EAAC;AAE9B,SAAA,QAAQ,CACtB,EAAwC,EACxC,IAAmD,EAAA;AAEnD,IAAA,MAAM,SAAS,GAAG,GAAG,CAAC,KAAK,CAAC,CAAA;AAE5B,IAAA,MAAM,OAAO,GAAG,CAAC,CAAS,KAAI;AAC5B,QAAA,SAAS,CAAC,KAAK,GAAG,IAAI,CAAA;QACtB,IAAI,KAAA,IAAA,IAAJ,IAAI,KAAJ,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,IAAI,CAAG,OAAO,EAAE,CAAC,CAAC,CAAA;AACpB,KAAC,CAAA;AAED,IAAA,MAAM,MAAM,GAAG,CAAC,CAAS,KAAI;AAC3B,QAAA,SAAS,CAAC,KAAK,GAAG,KAAK,CAAA;QACvB,IAAI,KAAA,IAAA,IAAJ,IAAI,KAAJ,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,IAAI,CAAG,MAAM,EAAE,CAAC,CAAC,CAAA;AACnB,KAAC,CAAA;IAED,MAAM,KAAK,GAAG,MAAW;;QACvB,CAAA,EAAA,GAAA,EAAE,KAAF,IAAA,IAAA,EAAE,KAAF,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAE,CAAE,KAAK,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAE,KAAK,EAAE,CAAA;AACpB,KAAC,CAAA;IAED,MAAM,IAAI,GAAG,MAAW;;QACtB,CAAA,EAAA,GAAA,EAAE,KAAF,IAAA,IAAA,EAAE,KAAF,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAE,CAAE,KAAK,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAE,IAAI,EAAE,CAAA;AACnB,KAAC,CAAA;AAED,IAAA,IAAI,EAAE,EAAE;QACN,SAAS,CAAC,MAAK;;YACb,IAAI,CAAA,EAAE,KAAA,IAAA,IAAF,EAAE,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAF,EAAE,CAAE,KAAK,aAAY,WAAW,EAAE;gBACpC,CAAA,EAAA,GAAA,EAAE,CAAC,KAAK,MAAE,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,gBAAgB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAA;gBAC5C,CAAA,EAAA,GAAA,EAAE,CAAC,KAAK,MAAE,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,gBAAgB,CAAC,MAAM,EAAE,MAAM,CAAC,CAAA;AAC3C,aAAA;AACH,SAAC,CAAC,CAAA;QACF,eAAe,CAAC,MAAK;;YACnB,IAAI,CAAA,EAAE,KAAA,IAAA,IAAF,EAAE,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAF,EAAE,CAAE,KAAK,aAAY,WAAW,EAAE;gBACpC,CAAA,EAAA,GAAA,EAAE,CAAC,KAAK,MAAE,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,mBAAmB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAA;gBAC/C,CAAA,EAAA,GAAA,EAAE,CAAC,KAAK,MAAE,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,mBAAmB,CAAC,MAAM,EAAE,MAAM,CAAC,CAAA;AAC9C,aAAA;AACH,SAAC,CAAC,CAAA;AACH,KAAA;IAED,OAAO;QACL,SAAS;QACT,OAAO;QACP,MAAM;QACN,KAAK;QACL,IAAI;KACL,CAAA;AACH;;;;"}