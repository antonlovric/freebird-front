{"version":3,"file":"VaTimePicker.js","sources":["../../src/components/va-time-picker/hooks/useTimePicker.ts","../../src/components/va-time-picker/components/VaTimePickerColumn/VaTimePickerColumn.vue","../../src/components/va-time-picker/components/VaTimePickerColumn/VaTimePickerColumn.vue?vue&type=template&id=73d5f299&lang.js","../../src/components/va-time-picker/components/VaTimePickerColumn/index.ts","../../src/components/va-time-picker/VaTimePicker.vue","../../src/components/va-time-picker/VaTimePicker.vue?vue&type=template&id=a2549b6e&lang.js"],"sourcesContent":["import { computed, ref, Ref, toRefs, watch } from 'vue'\nimport { TimePickerProps, ModelValueRef } from '../types'\n\n// Use safeModelValue if we need to update model value\nconst safeModelValue = (m: ModelValueRef) => m.value ? m.value : new Date(new Date().setHours(0, 0, 0, 0))\n\nconst createNumbersArray = (length: number) => Array.from(Array(length).keys())\n\n/**\n * Convert 00:00 -> 12:00 am, 00:01 -> 01:00 am.\n * So we need to changed 12 and 0 between two formats\n */\nconst from24to12 = (h: number) => (h === 0 ? 12 : h) - Number(h > 12) * 12\nconst from12to24 = (h: number, isAM = false) => (h === 12 ? 0 : h) + Number(isAM) * 12\n\nconst createHoursColumn = (props: TimePickerProps, modelValue: ModelValueRef, isPM: Ref<boolean>) => {\n  const computedSize = computed(() => props.ampm ? 12 : 24)\n\n  const items = computed(() => {\n    let array = createNumbersArray(computedSize.value)\n\n    if (props.hoursFilter) {\n      array = array.filter((i) => props.hoursFilter!(props.ampm ? i + 12 * Number(isPM.value) : i))\n    }\n\n    return array.map((n) => {\n      return props.ampm ? from24to12(n) : n\n    })\n  })\n\n  const activeItem = computed({\n    get: () => {\n      if (!modelValue.value) { return -1 }\n\n      if (props.ampm) {\n        const h = from24to12(modelValue.value.getHours() - 12 * Number(isPM.value))\n        return items.value.findIndex((i) => i === h)\n      }\n\n      const h = modelValue.value.getHours()\n\n      return items.value.findIndex((i) => i === h)\n    },\n    set: (newIndex) => {\n      if (props.readonly) { return }\n\n      const hours = props.ampm ? from12to24(items.value[newIndex], isPM.value) : items.value[newIndex]\n\n      modelValue.value = new Date(safeModelValue(modelValue).setHours(hours))\n    },\n  })\n\n  return computed(() => ({\n    items: items.value,\n    activeItem: activeItem,\n  }))\n}\n\nconst createMinutesColumn = (props: TimePickerProps, modelValue: ModelValueRef) => {\n  const items = computed(() => {\n    const array = createNumbersArray(60)\n\n    if (!props.minutesFilter) { return array }\n\n    return array.filter(props.minutesFilter)\n  })\n\n  const activeItem = computed({\n    get: () => {\n      if (!modelValue.value) { return -1 }\n\n      const m = modelValue.value.getMinutes()\n\n      return items.value.findIndex((i) => i === m)\n    },\n    set: (newIndex) => {\n      if (props.readonly) { return }\n\n      const v = items.value[newIndex]\n\n      modelValue.value = new Date(safeModelValue(modelValue).setMinutes(v))\n    },\n  })\n\n  return computed(() => ({\n    items: items.value,\n    activeItem: activeItem,\n  }))\n}\n\nconst createSecondsColumn = (props: TimePickerProps, modelValue: ModelValueRef) => {\n  const items = computed(() => {\n    const array = createNumbersArray(60)\n\n    if (!props.secondsFilter) { return array }\n\n    return array.filter(props.secondsFilter)\n  })\n\n  const activeItem = computed({\n    get: () => {\n      if (!modelValue.value) { return -1 }\n\n      const s = modelValue.value.getSeconds()\n\n      return items.value.findIndex((i) => i === s)\n    },\n    set: (newIndex) => {\n      if (props.readonly) { return }\n\n      const v = items.value[newIndex]\n\n      modelValue.value = new Date(safeModelValue(modelValue).setSeconds(v))\n    },\n  })\n\n  return computed(() => ({\n    items: items.value,\n    activeItem: activeItem,\n  }))\n}\n\nconst createPeriodColumn = (props: TimePickerProps, modelValue: ModelValueRef, isPM: Ref<boolean>) => {\n  return computed(() => ({\n    items: ['AM', 'PM'],\n    activeItem: computed({\n      get: () => {\n        if (!modelValue.value) { return -1 }\n        return Number(isPM.value)\n      },\n      set: (val) => {\n        isPM.value = Boolean(val)\n        const h = safeModelValue(modelValue).getHours()\n        let h24 = isPM.value ? h + 12 : h\n\n        if (isPM.value && h <= 12) { h24 = h + 12 }\n        if (!isPM.value && h >= 12) { h24 = h - 12 }\n\n        // If there is no hoursFilter - it must be valid, otherwise validate hours\n        const isValidFilteredHour = !props.hoursFilter || props.hoursFilter(h24)\n\n        if (props.periodUpdatesModelValue && isValidFilteredHour) {\n          modelValue.value = new Date(safeModelValue(modelValue).setHours(h24))\n        }\n      },\n    }),\n  }))\n}\n\nexport const useTimePicker = (props: TimePickerProps, modelValue: ModelValueRef) => {\n  const { view } = toRefs(props)\n\n  const isPM = ref(false)\n  watch(modelValue, () => { isPM.value = safeModelValue(modelValue).getHours() >= 12 }, { immediate: true })\n\n  const hoursColumn = createHoursColumn(props, modelValue, isPM)\n  const minutesColumn = createMinutesColumn(props, modelValue)\n  const secondsColumn = createSecondsColumn(props, modelValue)\n  const periodColumn = createPeriodColumn(props, modelValue, isPM)\n\n  const columns = computed(() => {\n    const array = []\n\n    if (view.value === 'hours') {\n      array.push(hoursColumn.value)\n    } else if (view.value === 'minutes') {\n      array.push(hoursColumn.value, minutesColumn.value)\n    } else if (view.value === 'seconds') {\n      array.push(hoursColumn.value, minutesColumn.value, secondsColumn.value)\n    }\n    if (props.ampm && !props.hidePeriodSwitch) {\n      array.push(periodColumn.value)\n    }\n\n    return array\n  })\n\n  return {\n    columns,\n    isPM,\n  }\n}\n","<template>\n  <div\n    ref=\"rootElement\"\n    tabindex=\"0\"\n    class=\"va-time-picker-column\"\n    @keydown.down.stop.prevent=\"makeActiveNext()\"\n    @keydown.space.stop.prevent=\"makeActiveNext(5)\"\n    @keydown.up.stop.prevent=\"makeActivePrev()\"\n    @scroll.passive=\"onScroll\"\n    @touchmove.passive=\"onScroll\"\n  >\n    <div\n      v-for=\"(item, index) in items\" :key=\"item\"\n      class=\"va-time-picker-cell\"\n      :class=\"{ 'va-time-picker-cell--active': index === $props.activeItemIndex }\"\n      @click=\"onCellClick(index)\"\n    >\n      <slot name=\"cell\" v-bind=\"{ item, index, activeItemIndex, items, formattedItem: formatCell(item) }\">\n        {{ formatCell(item) }}\n      </slot>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, nextTick, shallowRef, watch, onMounted, PropType } from 'vue'\n\nimport debounce from 'lodash/debounce.js'\nimport { useSyncProp, useFocus, useFocusEmits } from '../../../../composables'\n\nexport default defineComponent({\n  name: 'VaTimePickerColumn',\n\n  props: {\n    items: { type: Array as PropType<string[] | number[]>, default: () => [] },\n    activeItemIndex: { type: Number, default: 0 },\n    cellHeight: { type: Number, default: 30 },\n  },\n\n  emits: ['item-selected', 'update:activeItemIndex', ...useFocusEmits],\n\n  setup (props, { emit }) {\n    const rootElement = shallowRef<HTMLElement>()\n    const { focus, blur } = useFocus(rootElement, emit)\n    const [syncActiveItemIndex] = useSyncProp('activeItemIndex', props, emit)\n\n    watch(syncActiveItemIndex, (newVal) => { scrollTo(newVal) })\n\n    onMounted(() => scrollTo(syncActiveItemIndex.value, false))\n\n    const scrollTo = (index: number, animated = true) => {\n      nextTick(() => {\n        rootElement.value!.scrollTo({\n          behavior: animated ? 'smooth' : 'auto',\n          top: index * props.cellHeight,\n        })\n      })\n    }\n\n    const makeActiveByIndex = (index: number) => {\n      syncActiveItemIndex.value = index\n      nextTick(() => scrollTo(syncActiveItemIndex.value))\n    }\n\n    const makeActiveNext = (times?: number) => {\n      syncActiveItemIndex.value = (syncActiveItemIndex.value + (times || 1)) % props.items.length\n      nextTick(() => scrollTo(syncActiveItemIndex.value))\n    }\n\n    const makeActivePrev = (times?: number) => {\n      syncActiveItemIndex.value = (syncActiveItemIndex.value - (times || 1) + props.items.length) % props.items.length\n      nextTick(() => scrollTo(syncActiveItemIndex.value))\n    }\n\n    const onCellClick = (index: number) => {\n      syncActiveItemIndex.value = index\n    }\n\n    const formatCell = (n: number | string): string => {\n      if (!Number.isInteger(n)) { return n as string }\n\n      return n < 10 ? `0${n}` : `${n}`\n    }\n\n    const getIndex = () => {\n      const scrollTop = rootElement.value!.scrollTop\n      const calculatedIndex = Math.max(\n        (scrollTop - scrollTop % props.cellHeight) / props.cellHeight,\n        scrollTop / props.cellHeight,\n      )\n\n      if (syncActiveItemIndex.value * props.cellHeight < scrollTop) {\n        return Math.ceil(calculatedIndex)\n      } else if (syncActiveItemIndex.value * props.cellHeight > scrollTop) {\n        return Math.floor(calculatedIndex)\n      } else {\n        return Math.round(calculatedIndex)\n      }\n    }\n\n    const onScroll = debounce(() => {\n      if (rootElement.value && syncActiveItemIndex.value !== -1) {\n        syncActiveItemIndex.value = getIndex()\n      }\n    }, 200)\n\n    return {\n      rootElement,\n\n      makeActiveNext,\n      makeActivePrev,\n      makeActiveByIndex,\n      onScroll,\n\n      onCellClick,\n      formatCell,\n\n      focus,\n      blur,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n  @import 'variables';\n  @import '../../../../styles/resources';\n\n  @mixin hiddenYScroll {\n    overflow-y: scroll;\n    -ms-overflow-style: none;  /* IE and Edge */\n    scrollbar-width: none;  /* Firefox */\n    &::-webkit-scrollbar { /* WebKit */\n      display: none;\n    }\n  }\n\n  .va-time-picker-column {\n    @include hiddenYScroll();\n\n    height: 100%;\n    border-right: var(--va-time-picker-column-border-right);\n\n    &::before,\n    &::after {\n      content: \"\";\n      display: block;\n      height: var(--va-time-picker-column-gap-height);\n      width: 100%;\n    }\n\n    &:last-child {\n      border-right: 0;\n    }\n\n    .va-time-picker-cell {\n      height: var(--va-time-picker-cell-height);\n      line-height: var(--va-time-picker-cell-height);\n      width: var(--va-time-picker-cell-width);\n      text-align: center;\n      cursor: var(--va-time-picker-cell-cursor);\n      user-select: none;\n\n      &--active {\n        position: relative;\n        color: var(--va-time-picker-cell-active-color);\n        z-index: 0;\n\n        &::before {\n          background: var(--va-time-picker-cell-active-background);\n          position: absolute;\n          height: 100%;\n          width: 100%;\n          left: 0;\n          right: 0;\n          content: '';\n          z-index: -1;\n          opacity: var(--va-time-picker-cell-active-background-opacity);\n        }\n      }\n\n      &:hover {\n        background: var(--va-time-picker-cell-background-color-hover);\n      }\n    }\n\n    &:focus {\n      .va-time-picker-cell {\n        &--active {\n          @include focus-outline($radius: 4px, $offset: -2px);\n        }\n      }\n    }\n  }\n</style>\n","<template>\n  <div\n    ref=\"rootElement\"\n    tabindex=\"0\"\n    class=\"va-time-picker-column\"\n    @keydown.down.stop.prevent=\"makeActiveNext()\"\n    @keydown.space.stop.prevent=\"makeActiveNext(5)\"\n    @keydown.up.stop.prevent=\"makeActivePrev()\"\n    @scroll.passive=\"onScroll\"\n    @touchmove.passive=\"onScroll\"\n  >\n    <div\n      v-for=\"(item, index) in items\" :key=\"item\"\n      class=\"va-time-picker-cell\"\n      :class=\"{ 'va-time-picker-cell--active': index === $props.activeItemIndex }\"\n      @click=\"onCellClick(index)\"\n    >\n      <slot name=\"cell\" v-bind=\"{ item, index, activeItemIndex, items, formattedItem: formatCell(item) }\">\n        {{ formatCell(item) }}\n      </slot>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, nextTick, shallowRef, watch, onMounted, PropType } from 'vue'\n\nimport debounce from 'lodash/debounce.js'\nimport { useSyncProp, useFocus, useFocusEmits } from '../../../../composables'\n\nexport default defineComponent({\n  name: 'VaTimePickerColumn',\n\n  props: {\n    items: { type: Array as PropType<string[] | number[]>, default: () => [] },\n    activeItemIndex: { type: Number, default: 0 },\n    cellHeight: { type: Number, default: 30 },\n  },\n\n  emits: ['item-selected', 'update:activeItemIndex', ...useFocusEmits],\n\n  setup (props, { emit }) {\n    const rootElement = shallowRef<HTMLElement>()\n    const { focus, blur } = useFocus(rootElement, emit)\n    const [syncActiveItemIndex] = useSyncProp('activeItemIndex', props, emit)\n\n    watch(syncActiveItemIndex, (newVal) => { scrollTo(newVal) })\n\n    onMounted(() => scrollTo(syncActiveItemIndex.value, false))\n\n    const scrollTo = (index: number, animated = true) => {\n      nextTick(() => {\n        rootElement.value!.scrollTo({\n          behavior: animated ? 'smooth' : 'auto',\n          top: index * props.cellHeight,\n        })\n      })\n    }\n\n    const makeActiveByIndex = (index: number) => {\n      syncActiveItemIndex.value = index\n      nextTick(() => scrollTo(syncActiveItemIndex.value))\n    }\n\n    const makeActiveNext = (times?: number) => {\n      syncActiveItemIndex.value = (syncActiveItemIndex.value + (times || 1)) % props.items.length\n      nextTick(() => scrollTo(syncActiveItemIndex.value))\n    }\n\n    const makeActivePrev = (times?: number) => {\n      syncActiveItemIndex.value = (syncActiveItemIndex.value - (times || 1) + props.items.length) % props.items.length\n      nextTick(() => scrollTo(syncActiveItemIndex.value))\n    }\n\n    const onCellClick = (index: number) => {\n      syncActiveItemIndex.value = index\n    }\n\n    const formatCell = (n: number | string): string => {\n      if (!Number.isInteger(n)) { return n as string }\n\n      return n < 10 ? `0${n}` : `${n}`\n    }\n\n    const getIndex = () => {\n      const scrollTop = rootElement.value!.scrollTop\n      const calculatedIndex = Math.max(\n        (scrollTop - scrollTop % props.cellHeight) / props.cellHeight,\n        scrollTop / props.cellHeight,\n      )\n\n      if (syncActiveItemIndex.value * props.cellHeight < scrollTop) {\n        return Math.ceil(calculatedIndex)\n      } else if (syncActiveItemIndex.value * props.cellHeight > scrollTop) {\n        return Math.floor(calculatedIndex)\n      } else {\n        return Math.round(calculatedIndex)\n      }\n    }\n\n    const onScroll = debounce(() => {\n      if (rootElement.value && syncActiveItemIndex.value !== -1) {\n        syncActiveItemIndex.value = getIndex()\n      }\n    }, 200)\n\n    return {\n      rootElement,\n\n      makeActiveNext,\n      makeActivePrev,\n      makeActiveByIndex,\n      onScroll,\n\n      onCellClick,\n      formatCell,\n\n      focus,\n      blur,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n  @import 'variables';\n  @import '../../../../styles/resources';\n\n  @mixin hiddenYScroll {\n    overflow-y: scroll;\n    -ms-overflow-style: none;  /* IE and Edge */\n    scrollbar-width: none;  /* Firefox */\n    &::-webkit-scrollbar { /* WebKit */\n      display: none;\n    }\n  }\n\n  .va-time-picker-column {\n    @include hiddenYScroll();\n\n    height: 100%;\n    border-right: var(--va-time-picker-column-border-right);\n\n    &::before,\n    &::after {\n      content: \"\";\n      display: block;\n      height: var(--va-time-picker-column-gap-height);\n      width: 100%;\n    }\n\n    &:last-child {\n      border-right: 0;\n    }\n\n    .va-time-picker-cell {\n      height: var(--va-time-picker-cell-height);\n      line-height: var(--va-time-picker-cell-height);\n      width: var(--va-time-picker-cell-width);\n      text-align: center;\n      cursor: var(--va-time-picker-cell-cursor);\n      user-select: none;\n\n      &--active {\n        position: relative;\n        color: var(--va-time-picker-cell-active-color);\n        z-index: 0;\n\n        &::before {\n          background: var(--va-time-picker-cell-active-background);\n          position: absolute;\n          height: 100%;\n          width: 100%;\n          left: 0;\n          right: 0;\n          content: '';\n          z-index: -1;\n          opacity: var(--va-time-picker-cell-active-background-opacity);\n        }\n      }\n\n      &:hover {\n        background: var(--va-time-picker-cell-background-color-hover);\n      }\n    }\n\n    &:focus {\n      .va-time-picker-cell {\n        &--active {\n          @include focus-outline($radius: 4px, $offset: -2px);\n        }\n      }\n    }\n  }\n</style>\n","import withConfigTransport from '../../../../services/config-transport/withConfigTransport'\nimport _VaTimePickerColumn from './VaTimePickerColumn.vue'\n\nexport const VaTimePickerColumn = withConfigTransport(_VaTimePickerColumn)\n","<template>\n  <div\n    class=\"va-time-picker\"\n    :class=\"computedClasses\"\n    :style=\"computedStyles\"\n  >\n    <VaTimePickerColumn\n      v-for=\"(column, idx) in columns\" :key=\"idx\"\n      :ref=\"setItemRef\"\n      :items=\"column.items\"\n      :tabindex=\"disabled ? -1 : 0\"\n      :cell-height=\"$props.cellHeight\"\n      v-model:activeItemIndex=\"column.activeItem.value\"\n      @keydown.right.stop.prevent=\"focusNext()\"\n      @keydown.tab.exact.stop.prevent=\"focusNext()\"\n      @keydown.left.stop.prevent=\"focusPrev()\"\n      @keydown.shift.tab.stop.prevent=\"focusPrev()\"\n      @focus=\"activeColumnIndex = idx\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, computed, PropType } from 'vue'\nimport { useTimePicker } from './hooks/useTimePicker'\n\nimport { VaTimePickerColumn } from './components/VaTimePickerColumn'\n\nimport {\n  useStatefulProps,\n  useStatefulEmits,\n  useStateful,\n  useFormProps,\n  useForm,\n  useArrayRefs,\n  useCSSVariables,\n} from '../../composables'\n\nexport default defineComponent({\n  name: 'VaTimePicker',\n\n  components: { VaTimePickerColumn },\n\n  props: {\n    ...useStatefulProps,\n    ...useFormProps,\n    modelValue: { type: Date, required: false },\n    ampm: { type: Boolean, default: false },\n    hidePeriodSwitch: { type: Boolean, default: false },\n    periodUpdatesModelValue: { type: Boolean, default: true }, // Update model value when switching period automatically\n    view: { type: String as PropType<'hours' | 'minutes' | 'seconds'>, default: 'minutes' },\n    hoursFilter: { type: Function as PropType<(h: number) => boolean> },\n    minutesFilter: { type: Function as PropType<(h: number) => boolean> },\n    secondsFilter: { type: Function as PropType<(h: number) => boolean> },\n    framed: { type: Boolean, default: false },\n    cellHeight: { type: Number, default: 30 },\n    visibleCellsCount: { type: Number, default: 7 },\n  },\n\n  emits: useStatefulEmits,\n\n  setup (props, { emit }) {\n    const { valueComputed } = useStateful(props, emit)\n    const { columns, isPM } = useTimePicker(props, valueComputed)\n\n    const { setItemRef, itemRefs: pickers } = useArrayRefs()\n\n    const activeColumnIndex = ref<number>()\n\n    const focus = (idx = 0): void => {\n      pickers.value[idx]?.focus()\n    }\n\n    const blur = (idx?: number): void => {\n      idx ? pickers.value[idx]?.blur() : pickers.value.forEach((el) => el?.blur())\n    }\n\n    const { computedClasses: computedFormClasses } = useForm('va-time-picker', props)\n\n    const focusNext = () => {\n      const nextIndex = (activeColumnIndex?.value || 0) + 1\n\n      activeColumnIndex.value = nextIndex % columns.value.length\n      focus(activeColumnIndex.value)\n    }\n\n    const focusPrev = () => {\n      const nextIndex = (activeColumnIndex?.value || 0) - 1 + columns.value.length\n\n      activeColumnIndex.value = nextIndex % columns.value.length\n      focus(activeColumnIndex.value)\n    }\n\n    const computedClasses = computed(() => ({\n      ...computedFormClasses,\n      'va-time-picker--framed': props.framed,\n    }))\n\n    const computedStyles = useCSSVariables('va-time-picker', () => {\n      const gapHeight = (props.visibleCellsCount - 1) / 2 * props.cellHeight\n\n      return {\n        height: `${props.cellHeight * props.visibleCellsCount}px`,\n        'cell-height': `${props.cellHeight}px`,\n        'column-gap-height': `${gapHeight}px`,\n      }\n    })\n\n    return {\n      columns,\n      computedStyles,\n      computedClasses,\n      isPM,\n      pickers,\n      setItemRef,\n\n      focusNext,\n      focusPrev,\n      activeColumnIndex,\n\n      focus,\n      blur,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n  @import './_variables.scss';\n\n  @mixin after-overlay {\n    position: relative;\n\n    &::after {\n      content: '';\n      position: absolute;\n      height: 100%;\n      width: 100%;\n      z-index: 1;\n    }\n  }\n\n  .va-time-picker {\n    display: var(--va-time-picker-display);\n    justify-content: center;\n    overflow: hidden;\n    height: var(--va-time-picker-height);\n    font-family: var(--va-font-family);\n\n    &--readonly {\n      @include after-overlay();\n    }\n\n    &--disabled {\n      @include after-overlay();\n\n      opacity: var(--va-time-picker-disabled-opacity);\n    }\n\n    &--framed {\n      position: relative;\n\n      &::before {\n        content: \"\";\n        height: var(--va-time-picker-cell-height);\n        width: 100%;\n        position: absolute;\n        top: 50%;\n        left: 0;\n        transform: translateY(-50%);\n        border-top: 1px solid var(--va-divider);\n        border-bottom: 1px solid var(--va-divider);\n        z-index: 0;\n      }\n    }\n  }\n</style>\n","<template>\n  <div\n    class=\"va-time-picker\"\n    :class=\"computedClasses\"\n    :style=\"computedStyles\"\n  >\n    <VaTimePickerColumn\n      v-for=\"(column, idx) in columns\" :key=\"idx\"\n      :ref=\"setItemRef\"\n      :items=\"column.items\"\n      :tabindex=\"disabled ? -1 : 0\"\n      :cell-height=\"$props.cellHeight\"\n      v-model:activeItemIndex=\"column.activeItem.value\"\n      @keydown.right.stop.prevent=\"focusNext()\"\n      @keydown.tab.exact.stop.prevent=\"focusNext()\"\n      @keydown.left.stop.prevent=\"focusPrev()\"\n      @keydown.shift.tab.stop.prevent=\"focusPrev()\"\n      @focus=\"activeColumnIndex = idx\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, computed, PropType } from 'vue'\nimport { useTimePicker } from './hooks/useTimePicker'\n\nimport { VaTimePickerColumn } from './components/VaTimePickerColumn'\n\nimport {\n  useStatefulProps,\n  useStatefulEmits,\n  useStateful,\n  useFormProps,\n  useForm,\n  useArrayRefs,\n  useCSSVariables,\n} from '../../composables'\n\nexport default defineComponent({\n  name: 'VaTimePicker',\n\n  components: { VaTimePickerColumn },\n\n  props: {\n    ...useStatefulProps,\n    ...useFormProps,\n    modelValue: { type: Date, required: false },\n    ampm: { type: Boolean, default: false },\n    hidePeriodSwitch: { type: Boolean, default: false },\n    periodUpdatesModelValue: { type: Boolean, default: true }, // Update model value when switching period automatically\n    view: { type: String as PropType<'hours' | 'minutes' | 'seconds'>, default: 'minutes' },\n    hoursFilter: { type: Function as PropType<(h: number) => boolean> },\n    minutesFilter: { type: Function as PropType<(h: number) => boolean> },\n    secondsFilter: { type: Function as PropType<(h: number) => boolean> },\n    framed: { type: Boolean, default: false },\n    cellHeight: { type: Number, default: 30 },\n    visibleCellsCount: { type: Number, default: 7 },\n  },\n\n  emits: useStatefulEmits,\n\n  setup (props, { emit }) {\n    const { valueComputed } = useStateful(props, emit)\n    const { columns, isPM } = useTimePicker(props, valueComputed)\n\n    const { setItemRef, itemRefs: pickers } = useArrayRefs()\n\n    const activeColumnIndex = ref<number>()\n\n    const focus = (idx = 0): void => {\n      pickers.value[idx]?.focus()\n    }\n\n    const blur = (idx?: number): void => {\n      idx ? pickers.value[idx]?.blur() : pickers.value.forEach((el) => el?.blur())\n    }\n\n    const { computedClasses: computedFormClasses } = useForm('va-time-picker', props)\n\n    const focusNext = () => {\n      const nextIndex = (activeColumnIndex?.value || 0) + 1\n\n      activeColumnIndex.value = nextIndex % columns.value.length\n      focus(activeColumnIndex.value)\n    }\n\n    const focusPrev = () => {\n      const nextIndex = (activeColumnIndex?.value || 0) - 1 + columns.value.length\n\n      activeColumnIndex.value = nextIndex % columns.value.length\n      focus(activeColumnIndex.value)\n    }\n\n    const computedClasses = computed(() => ({\n      ...computedFormClasses,\n      'va-time-picker--framed': props.framed,\n    }))\n\n    const computedStyles = useCSSVariables('va-time-picker', () => {\n      const gapHeight = (props.visibleCellsCount - 1) / 2 * props.cellHeight\n\n      return {\n        height: `${props.cellHeight * props.visibleCellsCount}px`,\n        'cell-height': `${props.cellHeight}px`,\n        'column-gap-height': `${gapHeight}px`,\n      }\n    })\n\n    return {\n      columns,\n      computedStyles,\n      computedClasses,\n      isPM,\n      pickers,\n      setItemRef,\n\n      focusNext,\n      focusPrev,\n      activeColumnIndex,\n\n      focus,\n      blur,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n  @import './_variables.scss';\n\n  @mixin after-overlay {\n    position: relative;\n\n    &::after {\n      content: '';\n      position: absolute;\n      height: 100%;\n      width: 100%;\n      z-index: 1;\n    }\n  }\n\n  .va-time-picker {\n    display: var(--va-time-picker-display);\n    justify-content: center;\n    overflow: hidden;\n    height: var(--va-time-picker-height);\n    font-family: var(--va-font-family);\n\n    &--readonly {\n      @include after-overlay();\n    }\n\n    &--disabled {\n      @include after-overlay();\n\n      opacity: var(--va-time-picker-disabled-opacity);\n    }\n\n    &--framed {\n      position: relative;\n\n      &::before {\n        content: \"\";\n        height: var(--va-time-picker-cell-height);\n        width: 100%;\n        position: absolute;\n        top: 50%;\n        left: 0;\n        transform: translateY(-50%);\n        border-top: 1px solid var(--va-divider);\n        border-bottom: 1px solid var(--va-divider);\n        z-index: 0;\n      }\n    }\n  }\n</style>\n"],"names":["debounce","_createElementBlock","_openBlock","_Fragment","_renderList","_renderSlot","_normalizeProps","_guardReactiveProps","_createTextVNode","_toDisplayString","_VaTimePickerColumn","_normalizeClass","_createBlock"],"mappings":"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"}