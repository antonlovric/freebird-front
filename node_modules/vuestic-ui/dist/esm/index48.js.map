{"version":3,"file":"index48.js","sources":["../../src/components/va-slider/validateSlider.ts","../../src/components/va-slider/VaSlider.vue","../../src/components/va-slider/VaSlider.vue?vue&type=template&id=ad237830&lang.js","../../src/components/va-slider/index.ts"],"sourcesContent":["import { warn } from '../../services/utils'\n\nexport const validateSlider = (value: number | number[], step: number, min: number, max: number, range: boolean) => {\n  if ((Array.isArray(value) && !range) || (!Array.isArray(value) && range)) {\n    warn(`The type \"${Array.isArray(value) ? 'array' : typeof value}\" of prop \"model-value\" does not match prop \"range = ${range}\".`)\n  }\n\n  if (max < min) {\n    warn('The maximum value can not be less than the minimum value.')\n  }\n\n  if (min > max) {\n    warn('The minimum value can not be greater than the maximum value.')\n  }\n\n  if ((max - min) % step !== 0) {\n    warn('Step is illegal. Slider is nondivisible.')\n  }\n\n  const inRange = (v: number) => {\n    if (v < min) {\n      warn(`The value of the slider is ${v}, the minimum value is ${min}, the value of this slider can not be less than the minimum value`)\n    } else if (v > max) {\n      warn(`The value of the slider is ${v}, the maximum value is ${max}, the value of this slider can not be greater than the maximum value`)\n    }\n  }\n\n  if (Array.isArray(value)) {\n    value.map(inRange)\n  } else {\n    inRange(value)\n  }\n\n  return true\n}\n","<template>\n  <div\n    class=\"va-slider\"\n    :class=\"sliderClass\"\n    v-bind=\"ariaAttributesComputed\"\n  >\n    <div\n      v-if=\"vertical ? $slots.append : $slots.prepend\"\n      class=\"va-slider__input-wrapper\"\n      aria-hidden=\"true\"\n    >\n      <slot :name=\"vertical ? 'append' : 'prepend'\" />\n    </div>\n    <span\n      v-if=\"($slots.label || label) && !invertLabel\"\n      class=\"va-input__label\"\n      :id=\"ariaLabelIdComputed\"\n      :style=\"labelStyles\"\n    >\n      <slot name=\"label\">\n        {{ label }}\n      </slot>\n    </span>\n    <span\n      v-if=\"vertical ? iconAppend : iconPrepend\"\n      class=\"va-input__label\"\n      aria-hidden=\"true\"\n    >\n      <va-icon\n        :name=\"vertical ? iconAppend : iconPrepend\"\n        :color=\"getColor($props.color)\"\n        :size=\"16\"\n      />\n    </span>\n    <div\n      ref=\"sliderContainer\"\n      class=\"va-slider__container\"\n      @mousedown=\"clickOnContainer\"\n      @mouseup=\"hasMouseDown = false\"\n      @touchstart=\"clickOnContainer\"\n    >\n      <div\n        class=\"va-slider__track\"\n        aria-hidden=\"true\"\n        :style=\"trackStyles\"\n      />\n      <template v-if=\"pins\">\n        <div\n          v-for=\"(pin, i) in pinsCol\"\n          :key=\"i\"\n          class=\"va-slider__mark\"\n          :class=\"{ 'va-slider__mark--active': checkActivePin(pin) }\"\n          :style=\"getPinStyles(pin)\"\n        />\n      </template>\n      <template v-if=\"$props.range\">\n        <div\n          ref=\"process\"\n          class=\"va-slider__track va-slider__track--selected\"\n          aria-hidden=\"true\"\n          :class=\"{'va-slider__track--active': isFocused}\"\n          :style=\"processedStyles\"\n        />\n        <div\n          v-for=\"order in orders\"\n          :key=\"'dot' + order\"\n          :ref=\"setItemRefByIndex(order)\"\n          class=\"va-slider__handler\"\n          :class=\"dotClass\"\n          :style=\"getDottedStyles(order)\"\n          :tabindex=\"disabled || readonly ? undefined : 0\"\n          @focus=\"isFocused = true, currentSliderDotIndex = order\"\n          @blur=\"isFocused = false\"\n        >\n          <div\n            v-if=\"isActiveDot(order)\"\n            :style=\"{ backgroundColor: getColor($props.color) }\"\n            class=\"va-slider__handler__dot--focus\"\n          />\n          <div\n            v-if=\"trackLabelVisible\"\n            :style=\"labelStyles\"\n            class=\"va-slider__handler__dot--value\"\n          >\n            <slot\n              name=\"trackLabel\"\n              v-bind=\"{ value: getValueByOrder(order), order }\"\n            >\n              {{ getTrackLabel(getValueByOrder(order), order) }}\n            </slot>\n          </div>\n        </div>\n      </template>\n      <template v-else>\n        <div\n          ref=\"process\"\n          aria-hidden=\"true\"\n          class=\"va-slider__track va-slider__track--selected\"\n          :class=\"{'va-slider__track--active': isFocused}\"\n          :style=\"processedStyles\"\n        />\n        <div\n          ref=\"dot\"\n          class=\"va-slider__handler\"\n          :class=\"dotClass\"\n          :style=\"dottedStyles\"\n          :tabindex=\"$props.disabled || $props.readonly ? undefined : 0\"\n          @focus=\"isFocused = true\"\n          @blur=\"isFocused = false\"\n        >\n          <div\n            v-if=\"isActiveDot(0)\"\n            class=\"va-slider__handler__dot--focus\"\n            :style=\"{ backgroundColor: getColor($props.color) }\"\n          />\n          <div\n            v-if=\"trackLabelVisible\"\n            class=\"va-slider__handler__dot--value\"\n            :style=\"labelStyles\"\n          >\n            <slot\n              name=\"trackLabel\"\n              v-bind=\"{ value: getValueByOrder() }\"\n            >\n              {{ getTrackLabel(getValueByOrder()) }}\n            </slot>\n          </div>\n        </div>\n      </template>\n    </div>\n    <span\n      v-if=\"vertical ? iconPrepend : iconAppend\"\n      class=\"va-input__label--inverse\"\n      aria-hidden=\"true\"\n    >\n      <va-icon\n        :name=\"vertical ? iconPrepend : iconAppend\"\n        :color=\"getColor($props.color)\"\n        :size=\"16\"\n      />\n    </span>\n    <span\n      v-if=\"($slots.label || label) && invertLabel\"\n      class=\"va-input__label va-input__label--inverse\"\n      :style=\"labelStyles\"\n    >\n      <slot name=\"label\">\n        {{ label }}\n      </slot>\n    </span>\n    <div\n      v-if=\"vertical ? $slots.prepend : $slots.append\"\n      class=\"va-slider__input-wrapper\"\n    >\n      <slot :name=\"vertical ? 'prepend' : 'append'\" />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, watch, PropType, ref, computed, onMounted, onBeforeUnmount, shallowRef, CSSProperties } from 'vue'\nimport pick from 'lodash/pick.js'\n\nimport { generateUniqueId } from '../../services/utils'\nimport { useColors, useArrayRefs, useBem } from '../../composables'\nimport { validateSlider } from './validateSlider'\n\nimport { VaIcon } from '../va-icon'\n\nexport default defineComponent({\n  name: 'VaSlider',\n  components: { VaIcon },\n  emits: ['drag-start', 'drag-end', 'change', 'update:modelValue'],\n  props: {\n    range: { type: Boolean, default: false },\n    modelValue: ({ type: [Number, Array] as PropType<number | number[]>, default: 0 }),\n    trackLabel: ({ type: [Function, String] as PropType<string | ((val: number, order?: number) => string) | undefined> }),\n    color: { type: String, default: 'primary' },\n    trackColor: { type: String, default: '' },\n    labelColor: { type: String, default: '' },\n    trackLabelVisible: { type: Boolean, default: false },\n    min: { type: Number, default: 0 },\n    max: { type: Number, default: 100 },\n    step: { type: Number, default: 1 },\n    label: { type: String, default: '' },\n    invertLabel: { type: Boolean, default: false },\n    disabled: { type: Boolean, default: false },\n    readonly: { type: Boolean, default: false },\n    pins: { type: Boolean, default: false },\n    iconPrepend: { type: String, default: '' },\n    iconAppend: { type: String, default: '' },\n    vertical: { type: Boolean, default: false },\n    showTrack: { type: Boolean, default: true },\n  },\n  setup (props, { emit }) {\n    const { getColor, getHoverColor } = useColors()\n\n    const sliderContainer = shallowRef<HTMLElement>()\n    const dot = shallowRef<HTMLElement>()\n    const { setItemRefByIndex, itemRefs: dots } = useArrayRefs()\n\n    const isFocused = ref(false)\n    const flag = ref(false)\n    const offset = ref(0)\n    const size = ref(0)\n    const currentValue = ref(props.modelValue)\n    const currentSliderDotIndex = ref(0)\n    const hasMouseDown = ref(false)\n\n    const orders = computed(() => props.vertical ? [1, 0] : [0, 1])\n\n    const pinPositionStyle = computed(() => props.vertical ? 'bottom' : 'left')\n    const trackSizeStyle = computed(() => props.vertical ? 'height' : 'width')\n\n    const moreToLess = computed(() => Array.isArray(val.value) && (val.value[1] - props.step) < val.value[0])\n\n    const lessToMore = computed(() => Array.isArray(val.value) && (val.value[0] + props.step) > val.value[1])\n\n    const sliderClass = useBem('va-slider', () => ({\n      ...pick(props, ['disabled', 'readonly', 'vertical']),\n      active: isFocused.value,\n      horizontal: !props.vertical,\n      grabbing: hasMouseDown.value,\n    }))\n\n    const dotClass = useBem('va-slider__handler', () => ({\n      onFocus: !props.range && (flag.value || isFocused.value),\n      inactive: !isFocused.value,\n    }))\n\n    const labelStyles = computed(() => ({\n      color: props.labelColor ? getColor(props.labelColor) : getColor(props.color),\n    }))\n\n    const trackStyles = computed(() => ({\n      backgroundColor: props.trackColor\n        ? getColor(props.trackColor)\n        : getHoverColor(getColor(props.color)),\n    }))\n\n    const processedStyles = computed(() => {\n      const validatedValue = limitValue(props.modelValue)\n\n      if (Array.isArray(validatedValue)) {\n        const val0 = ((validatedValue[0] - props.min) / (props.max - props.min)) * 100\n        const val1 = ((validatedValue[1] - props.min) / (props.max - props.min)) * 100\n\n        return {\n          [pinPositionStyle.value]: `${val0}%`,\n          [trackSizeStyle.value]: `${val1 - val0}%`,\n          backgroundColor: getColor(props.color),\n          visibility: props.showTrack ? 'visible' : 'hidden',\n        } as CSSProperties\n      } else {\n        const val = ((validatedValue - props.min) / (props.max - props.min)) * 100\n\n        return {\n          [trackSizeStyle.value]: `${val}%`,\n          backgroundColor: getColor(props.color),\n          visibility: props.showTrack ? 'visible' : 'hidden',\n        } as CSSProperties\n      }\n    })\n\n    const dottedStyles = computed(() => {\n      const validatedValue = limitValue(props.modelValue)\n\n      if (Array.isArray(validatedValue)) {\n        const val0 = ((validatedValue[0] - props.min) / (props.max - props.min)) * 100\n        const val1 = ((validatedValue[1] - props.min) / (props.max - props.min)) * 100\n\n        return [\n          {\n            [pinPositionStyle.value]: `${val0}%`,\n            backgroundColor: isActiveDot(0) ? getColor(props.color) : '#ffffff',\n            borderColor: getColor(props.color),\n          },\n          {\n            [pinPositionStyle.value]: `${val1}%`,\n            backgroundColor: isActiveDot(1) ? getColor(props.color) : '#ffffff',\n            borderColor: getColor(props.color),\n          },\n        ] as CSSProperties[]\n      } else {\n        const val = ((validatedValue - props.min) / (props.max - props.min)) * 100\n\n        return {\n          [pinPositionStyle.value]: `${val}%`,\n          backgroundColor: isActiveDot(0) ? getColor(props.color) : '#ffffff',\n          borderColor: getColor(props.color),\n        } as CSSProperties\n      }\n    })\n\n    const getDottedStyles = (index?: number) => props.range && index !== undefined\n      ? (dottedStyles.value as CSSProperties[])[index]\n      : dottedStyles.value\n\n    const val = computed({\n      get: () => props.modelValue,\n      set: (val) => {\n        if (!props.range) {\n          val = limitValue(val)\n        }\n\n        if (!flag.value) {\n          emit('change', val)\n        }\n\n        emit('update:modelValue', val)\n      },\n    })\n\n    const getValueByOrder = (order?: number) => props.range && order !== undefined\n      ? (val.value as number[])[order]\n      : val.value as number\n\n    const gap = computed(() => {\n      const total = (props.max - props.min) / props.step\n\n      return size.value / total\n    })\n\n    const multiple = computed(() => {\n      const decimals = `${props.step}`.split('.')[1]\n\n      return decimals ? Math.pow(10, decimals.length) : 1\n    })\n\n    const pinsCol = computed(() => ((props.max - props.min) / props.step) - 1)\n\n    const position = computed(() => {\n      return Array.isArray(props.modelValue)\n        ? [(props.modelValue[0] - props.min) / props.step * gap.value, (props.modelValue[1] - props.min) / props.step * gap.value]\n        : ((props.modelValue - props.min) / props.step * gap.value)\n    })\n\n    const limit = computed(() => [0, size.value])\n\n    const valueLimit = computed(() => [props.min, props.max])\n\n    const isActiveDot = (index: number) => {\n      if ((!isFocused.value && !flag.value) || props.disabled || props.readonly) {\n        return false\n      }\n\n      return props.range ? currentSliderDotIndex.value === index : currentSliderDotIndex.value === 0\n    }\n\n    const moveStart = (e: MouseEvent | TouchEvent, index = currentSliderDotIndex.value) => {\n      e.preventDefault() // prevent page scrolling\n\n      if (!index) {\n        if (!props.range) {\n          index = 0\n        } else if (Array.isArray(position.value)) {\n          const touch = 'touches' in e ? e.touches[0] : e\n          const pos = getPos(touch)\n\n          index = pos > ((position.value[1] - position.value[0]) / 2 + position.value[0]) ? 1 : 0\n        }\n      }\n\n      if (Array.isArray(props.modelValue)) {\n        currentSliderDotIndex.value = index\n      }\n\n      Array.isArray(props.modelValue)\n        ? dots.value[index]?.focus()\n        : dot.value?.focus()\n\n      flag.value = true\n\n      emit('drag-start')\n    }\n\n    const moving = (e: TouchEvent | MouseEvent) => {\n      if (!hasMouseDown.value || !flag.value || props.disabled || props.readonly) { return }\n\n      e.preventDefault()\n\n      if ('touches' in e) {\n        setValueOnPos(getPos(e.touches[0]))\n      } else {\n        setValueOnPos(getPos(e))\n      }\n    }\n\n    const moveEnd = () => {\n      if (!props.disabled && !props.readonly) {\n        if (flag.value) {\n          emit('drag-end')\n          emit('change', props.modelValue)\n        } else {\n          return false\n        }\n\n        flag.value = false\n        hasMouseDown.value = false\n      }\n    }\n\n    const moveWithKeys = (event: KeyboardEvent) => {\n      // don't do anything if a dot isn't focused or if the slider's disabled or readonly\n      if (![dots.value[0], dots.value[1], dot.value].includes(document.activeElement as HTMLElement)) {\n        return\n      }\n      if (props.disabled || props.readonly) {\n        return\n      }\n\n      /*\n        where: where to move\n          0 - to left\n          1 - to right\n\n        which: which dot to move (only makes sense when isRange is true)\n          0 - left dot\n          1 - right dot\n        */\n      const moveDot = (isRange: boolean, where: number, which: number) => {\n        if (isRange && Array.isArray(val.value)) {\n          if (!props.pins) {\n            return val.value.splice(which, 1, val.value[which] + (where ? props.step : -props.step))\n          }\n\n          // how many value units one pin occupies\n          const onePinInterval = (props.max - props.min) / (pinsCol.value + 1)\n          // how many full pins are to the left of the dot now\n          const fullPinsNow = val.value[which] / onePinInterval | 0\n          // the value of the nearest pin\n          let nearestPinVal = fullPinsNow * onePinInterval\n\n          if (val.value[which] !== nearestPinVal) { // if the dot's not pinned already\n            nearestPinVal += where ? onePinInterval : 0 // take one more pin if moving right\n            val.value.splice(which, 1, nearestPinVal)\n          } else {\n            val.value.splice(which, 1, val.value[which] + (where ? props.step : -props.step))\n          }\n        } else {\n          if (!props.pins && !Array.isArray(val.value)) {\n            val.value += where ? props.step : -props.step\n            return\n          }\n\n          // how many value units one pin occupies\n          const onePinInterval = (props.max - props.min) / (pinsCol.value + 1)\n          // how many full pins are to the left of the dot now\n          const fullPinsNow = !Array.isArray(val.value) ? val.value / onePinInterval | 0 : 0\n          // the value of the nearest pin\n          let nearestPinVal = fullPinsNow * onePinInterval\n\n          if (val.value !== nearestPinVal) { // if the dot's not pinned already\n            nearestPinVal += where ? onePinInterval : 0 // take one more pin if moving right\n            val.value = nearestPinVal\n          } else {\n            val.value += where ? props.step : -props.step\n          }\n        }\n      }\n\n      // prevent page scroll\n      if (['ArrowLeft', 'ArrowUp', 'ArrowRight', 'ArrowDown'].includes(event.key)) {\n        event.preventDefault()\n      }\n\n      const isActive = (el?: HTMLElement) => el === document.activeElement\n\n      if (props.range && Array.isArray(val.value)) {\n        const isVerticalDot0More = (event: KeyboardEvent) => props.vertical && isActive(dots.value[0]) && event.key === 'ArrowUp'\n        const isVerticalDot0Less = (event: KeyboardEvent) => props.vertical && isActive(dots.value[0]) && event.key === 'ArrowDown'\n        const isVerticalDot1More = (event: KeyboardEvent) => props.vertical && isActive(dots.value[1]) && event.key === 'ArrowUp'\n        const isVerticalDot1Less = (event: KeyboardEvent) => props.vertical && isActive(dots.value[1]) && event.key === 'ArrowDown'\n        const isHorizontalDot0Less = (event: KeyboardEvent) => !props.vertical && isActive(dots.value[0]) && event.key === 'ArrowLeft'\n        const isHorizontalDot0More = (event: KeyboardEvent) => !props.vertical && isActive(dots.value[0]) && event.key === 'ArrowRight'\n        const isHorizontalDot1Less = (event: KeyboardEvent) => !props.vertical && isActive(dots.value[1]) && event.key === 'ArrowLeft'\n        const isHorizontalDot1More = (event: KeyboardEvent) => !props.vertical && isActive(dots.value[1]) && event.key === 'ArrowRight'\n\n        switch (true) {\n          case (isVerticalDot1Less(event) || isHorizontalDot1Less(event)) && moreToLess.value && val.value[0] !== props.min:\n            dots.value[0]?.focus()\n            moveDot(true, 0, 0)\n            break\n          case (isVerticalDot0More(event) || isHorizontalDot0More(event)) && lessToMore.value && val.value[1] !== props.max:\n            dots.value[1]?.focus()\n            moveDot(true, 1, 1)\n            break\n          case (isVerticalDot0Less(event) || isHorizontalDot0Less(event)) && val.value[0] !== props.min:\n            moveDot(true, 0, 0)\n            break\n          case (isVerticalDot1More(event) || isHorizontalDot1More(event)) && val.value[1] !== props.max:\n            moveDot(true, 1, 1)\n            break\n          case (isVerticalDot1Less(event) || isHorizontalDot1Less(event)) && val.value[1] !== props.min:\n            moveDot(true, 0, 1)\n            break\n          case (isVerticalDot0More(event) || isHorizontalDot0More(event)) && val.value[0] !== props.max:\n            moveDot(true, 1, 0)\n            break\n          default:\n            break\n        }\n      } else {\n        if (props.vertical) {\n          if (event.key === 'ArrowDown') {\n            moveDot(false, 0, 0)\n          }\n          if (event.key === 'ArrowUp') {\n            moveDot(false, 1, 0)\n          }\n        } else {\n          if (event.key === 'ArrowLeft') {\n            moveDot(false, 0, 0)\n          }\n          if (event.key === 'ArrowRight') {\n            moveDot(false, 1, 0)\n          }\n        }\n      }\n    }\n\n    const checkActivePin = (pin: number) => {\n      if (Array.isArray(val.value)) {\n        return pin * props.step > val.value[0] && pin * props.step < val.value[1]\n      } else {\n        return pin * props.step < val.value\n      }\n    }\n\n    const pinPositionStep = computed(() => props.step / (props.max - props.min) * 100)\n    const getPinStyles = (pin: number) => ({\n      backgroundColor: checkActivePin(pin) ? getColor(props.color) : getHoverColor(getColor(props.color)),\n      [pinPositionStyle.value]: `${pin * pinPositionStep.value}%`,\n      transition: hasMouseDown.value ? 'none' : 'var(--va-slider-pin-transition)',\n    })\n\n    const getPos = (e: MouseEvent | Touch) => {\n      getStaticData()\n\n      return props.vertical ? offset.value - e.clientY : e.clientX - offset.value\n    }\n\n    const getStaticData = () => {\n      if (sliderContainer.value) {\n        size.value = sliderContainer.value[props.vertical ? 'offsetHeight' : 'offsetWidth']\n\n        offset.value = sliderContainer.value.getBoundingClientRect()[pinPositionStyle.value]\n      }\n    }\n\n    const getValueByIndex = (index: number) => {\n      return ((props.step * multiple.value) * index + (props.min * multiple.value)) / multiple.value\n    }\n\n    const getTrackLabel = (val: number, order?: number) => {\n      if (!props.trackLabel) { return val }\n\n      return typeof props.trackLabel === 'function'\n        ? props.trackLabel(val, order)\n        : props.trackLabel\n    }\n\n    const setCurrentValue = (newValue: number) => {\n      const slider = currentSliderDotIndex.value\n\n      if (Array.isArray(val.value) && Array.isArray(currentValue.value) && Array.isArray(props.modelValue)) {\n        if (isDiff(currentValue.value[slider], newValue)) {\n          currentValue.value.splice(slider, 1, newValue)\n          if (slider === 0) {\n            val.value = [currentValue.value.splice(slider, 1, newValue)[0], props.modelValue[1]]\n            currentValue.value = [...val.value]\n          } else {\n            val.value = [props.modelValue[0], currentValue.value.splice(slider, 1, newValue)[0]]\n            currentValue.value = [...val.value]\n          }\n        }\n      } else {\n        if (newValue < props.min || newValue > props.max) {\n          return false\n        }\n        if (isDiff(currentValue.value, newValue)) {\n          currentValue.value = newValue\n          val.value = newValue\n        }\n      }\n    }\n\n    const setValueOnPos = (pixelPosition: number) => {\n      const range = limit.value\n      const valueRange = valueLimit.value\n\n      // set focus on current thumb\n      const dotToFocus = Array.isArray(props.modelValue)\n        ? dots.value[currentSliderDotIndex.value]\n        : dot.value\n\n      dotToFocus?.focus()\n\n      if (pixelPosition >= range[0] && pixelPosition <= range[1]) {\n        if (currentSliderDotIndex.value) {\n          if (Array.isArray(position.value) && Array.isArray(val.value) && pixelPosition <= position.value[0]) {\n            val.value[1] = val.value[0]\n            currentSliderDotIndex.value = 0\n          }\n          const v = getValueByIndex(Math.round(pixelPosition / gap.value))\n          setCurrentValue(v)\n        } else {\n          if (Array.isArray(position.value) && Array.isArray(val.value) && pixelPosition >= position.value[1]) {\n            val.value[0] = val.value[1]\n            currentSliderDotIndex.value = 1\n          }\n          const v = getValueByIndex(Math.round(pixelPosition / gap.value))\n          setCurrentValue(v)\n        }\n      } else if (pixelPosition < range[0]) {\n        setCurrentValue(valueRange[0])\n      } else {\n        setCurrentValue(valueRange[1])\n      }\n    }\n\n    const limitValue = (val: number | number[]) => {\n      const inRange = (v: number) => {\n        if (v < props.min) {\n          return props.min\n        } else if (v > props.max) {\n          return props.max\n        }\n        return v\n      }\n\n      if (Array.isArray(val)) {\n        if (val[0] >= val[1] && currentSliderDotIndex.value === 0) {\n          const v = inRange(val[1])\n          return [v, v]\n        }\n        if (val[0] >= val[1] && currentSliderDotIndex.value === 1) {\n          const v = inRange(val[0])\n          return [v, v]\n        }\n        return val.map((v) => inRange(v))\n      } else {\n        return inRange(val)\n      }\n    }\n\n    const isDiff = (a: unknown, b: unknown) => JSON.stringify(a) !== JSON.stringify(b)\n\n    const clickOnContainer = (e: MouseEvent | TouchEvent) => {\n      if (props.disabled || props.readonly) {\n        return\n      }\n\n      const pos = ('touches' in e) ? getPos(e.touches[0]) : getPos(e)\n\n      if (Array.isArray(position.value)) {\n        currentSliderDotIndex.value = pos > ((position.value[1] - position.value[0]) / 2 + position.value[0]) ? 1 : 0\n      }\n\n      hasMouseDown.value = true\n      setValueOnPos(pos)\n      moveStart(e, currentSliderDotIndex.value)\n    }\n\n    const bindEvents = () => {\n      document.addEventListener('mousemove', moving)\n      document.addEventListener('touchmove', moving, { passive: false })\n      document.addEventListener('mouseup', moveEnd)\n      document.addEventListener('mouseleave', moveEnd)\n      document.addEventListener('touchcancel', moveEnd)\n      document.addEventListener('touchend', moveEnd)\n      document.addEventListener('keydown', moveWithKeys)\n    }\n\n    const unbindEvents = () => {\n      document.removeEventListener('mousemove', moving)\n      document.removeEventListener('touchmove', moving)\n      document.removeEventListener('mouseup', moveEnd)\n      document.removeEventListener('mouseleave', moveEnd)\n      document.removeEventListener('touchcancel', moveEnd)\n      document.removeEventListener('touchend', moveEnd)\n      document.removeEventListener('keydown', moveWithKeys)\n    }\n\n    const ariaLabelIdComputed = computed(() => `aria-label-id-${generateUniqueId()}`)\n\n    const ariaAttributesComputed = computed(() => ({\n      role: 'slider',\n      ariaValuemin: props.min,\n      ariaValuemax: props.max,\n      ariaLabelledby: ariaLabelIdComputed.value,\n      ariaOrientation: props.vertical ? 'vertical' : 'horizontal',\n      ariaDisabled: props.disabled,\n      ariaReadonly: props.readonly,\n      ariaValuenow: !Array.isArray(props.modelValue) ? props.modelValue : undefined,\n    }))\n\n    onMounted(() => {\n      if (validateSlider(props.modelValue, props.step, props.min, props.max, props.range)) {\n        getStaticData()\n        bindEvents()\n      }\n    })\n\n    onBeforeUnmount(unbindEvents)\n\n    watch([\n      val,\n      () => props.step,\n      () => props.min,\n      () => props.max,\n      () => props.range,\n    ], ([value, step, min, max, range]) => {\n      validateSlider(value, step, min, max, range)\n    })\n\n    watch(hasMouseDown, (hasMouseDown) => {\n      document.documentElement.style.cursor = hasMouseDown ? 'grabbing' : ''\n    })\n\n    return {\n      getColor,\n      dot,\n      dots,\n      setItemRefByIndex,\n      orders,\n      sliderContainer,\n      val,\n      getValueByOrder,\n      sliderClass,\n      dotClass,\n      labelStyles,\n      processedStyles,\n      getPinStyles,\n      dottedStyles,\n      getDottedStyles,\n      clickOnContainer,\n      hasMouseDown,\n      trackStyles,\n      pinsCol,\n      checkActivePin,\n      isFocused,\n      isActiveDot,\n      getTrackLabel,\n      currentSliderDotIndex,\n      ariaLabelIdComputed,\n      ariaAttributesComputed,\n    }\n  },\n})\n</script>\n\n<style lang='scss'>\n@import \"../../styles/resources\";\n@import \"variables\";\n\n.va-slider {\n  display: var(--va-slider-display);\n  align-items: var(--va-slider-align-items);\n  font-family: var(--va-font-family);\n\n  &__input-wrapper {\n    position: var(--va-slider-input-wrapper-position);\n    display: var(--va-slider-input-wrapper-display);\n  }\n\n  &__container {\n    position: relative;\n    display: flex;\n    align-items: center;\n    cursor: grab;\n  }\n\n  &__track {\n    position: var(--va-slider-track-position);\n    border-radius: var(--va-slider-track-border-radius);\n    transition: var(--va-slider-track-transition);\n    opacity: var(--va-slider-track-opacity);\n\n    &--active {\n      transition: 0s;\n    }\n  }\n\n  &__track--selected {\n    opacity: 1;\n  }\n\n  &__handler {\n    position: var(--va-slider-handler-position);\n    width: var(--va-slider-handler-width);\n    height: var(--va-slider-handler-height);\n    background: var(--va-slider-handler-background);\n    border: var(--va-slider-handler-border);\n    border-radius: var(--va-slider-handler-border-radius);\n    outline: var(--va-slider-handler-outline);\n    left: var(--va-slider-handler-left);\n    transition: var(--va-slider-handler-transition);\n\n    &__dot--focus {\n      transform: var(--va-slider-dot-transform);\n      display: var(--va-slider-dot-display);\n      width: var(--va-slider-dot-width);\n      height: var(--va-slider-dot-height);\n      position: var(--va-slider-dot-position);\n      border-radius: var(--va-slider-dot-border-radius);\n      opacity: var(--va-slider-dot-opacity);\n      pointer-events: var(--va-slider-dot-pointer-events);\n    }\n\n    &__dot--value {\n      transform: var(--va-slider-dot-value-transform);\n      user-select: var(--va-slider-dot-value-user-select);\n      font-size: var(--va-slider-dot-value-font-size);\n      letter-spacing: var(--va-slider-dot-value-letter-spacing);\n      line-height: var(--va-slider-dot-value-line-height);\n      font-weight: var(--va-slider-dot-value-font-weight);\n      text-transform: var(--va-slider-dot-value-text-transform);\n      white-space: var(--va-slider-dot-value-white-space);\n    }\n  }\n\n  .va-input__label {\n    user-select: var(--va-slider-input-label-user-select);\n    font-size: var(--va-slider-input-label-font-size);\n    letter-spacing: var(--va-slider-input-label-letter-spacing);\n    line-height: var(--va-slider-input-label-line-height);\n    font-weight: var(--va-slider-input-label-font-weight);\n    text-transform: var(--va-slider-input-label-text-transform);\n  }\n\n  .va-input__label--inverse {\n    user-select: var(--va-slider-input-label-inverse-user-select);\n    font-size: var(--va-slider-input-label-inverse-font-size);\n    letter-spacing: var(--va-slider-input-label-inverse-letter-spacing);\n    line-height: var(--va-slider-input-label-inverse-line-height);\n    font-weight: var(--va-slider-input-label-inverse-font-weight);\n    text-transform: var(--va-slider-input-label-inverse-text-transform);\n  }\n\n  &--grabbing {\n    .va-slider__container {\n      cursor: grabbing;\n    }\n  }\n\n  &--disabled {\n    @include va-disabled;\n\n    .va-slider__container {\n      cursor: default;\n    }\n  }\n\n  &--readonly {\n    .va-slider__container {\n      cursor: default;\n    }\n  }\n}\n\n.va-slider--horizontal {\n  .va-slider__input-wrapper {\n    flex-basis: var(--va-slider-horizontal-input-wrapper-flex-basis);\n    flex-grow: var(--va-slider-horizontal-input-wrapper-flex-grow);\n    margin-right: var(--va-slider-horizontal-input-wrapper-margin-right);\n\n    &:last-of-type {\n      margin-left: 1rem;\n    }\n  }\n\n  .va-slider {\n    &__container {\n      width: 100%;\n      height: 1.5rem;\n    }\n\n    &__track {\n      height: var(--va-slider-horizontal-track-height);\n      width: var(--va-slider-horizontal-track-width);\n    }\n\n    &__mark {\n      position: absolute;\n      width: 0.125rem;\n      height: 0.75rem;\n    }\n\n    &__handler {\n      transform: var(--va-slider-horizontal-handler-transform);\n\n      &--inactive {\n        transition: left 0.5s ease-out;\n      }\n\n      &__dot--value {\n        position: var(--va-slider-horizontal-dot-value-position);\n        top: var(--va-slider-horizontal-dot-value-top);\n        left: var(--va-slider-horizontal-dot-value-left);\n      }\n    }\n  }\n\n  .va-input__label {\n    margin-right: 1rem;\n  }\n\n  .va-input__label--inverse {\n    margin-left: 1rem;\n  }\n}\n\n.va-slider--vertical {\n  height: var(--va-slider-vertical-height);\n  padding: var(--va-slider-vertical-padding);\n  flex-direction: var(--va-slider-vertical-flex-direction);\n  align-items: var(--va-slider-vertical-align-items);\n\n  .va-input__label {\n    margin-bottom: var(--va-slider-vertical-label-margin-bottom);\n  }\n\n  .va-input__label--inverse {\n    left: var(--va-slider-vertical-label-inverse-left);\n    margin-top: var(--va-slider-vertical-label-inverse-margin-top);\n  }\n\n  .va-slider {\n    &__input-wrapper {\n      flex-basis: var(--va-slider-vertical-input-wrapper-flex-basis);\n      flex-grow: var(--va-slider-vertical-input-wrapper-flex-grow);\n      max-width: var(--va-slider-vertical-input-wrapper-max-width);\n      min-width: var(--va-slider-vertical-input-wrapper-min-width);\n      position: var(--va-slider-vertical-input-wrapper-position);\n      display: var(--va-slider-vertical-input-wrapper-display);\n\n      &:last-of-type {\n        margin-top: 1rem;\n      }\n    }\n\n    &__container {\n      height: 100%;\n      width: 0.5rem;\n    }\n\n    &__track {\n      height: var(--va-slider-vertical-track-height);\n      width: var(--va-slider-vertical-track-width);\n      bottom: var(--va-slider-vertical-track-bottom);\n    }\n\n    &__mark {\n      position: absolute;\n      width: 0.75rem;\n      height: 0.125rem;\n      left: -2px;\n    }\n\n    &__handler {\n      transform: var(--va-slider-vertical-handler-transform);\n\n      &--inactive {\n        transition: bottom 0.5s ease-out;\n      }\n\n      &__dot--value {\n        position: var(--va-slider-vertical-dot-value-position);\n        top: var(--va-slider-vertical-dot-value-top);\n        left: var(--va-slider-vertical-dot-value-left);\n      }\n    }\n  }\n}\n</style>\n","<template>\n  <div\n    class=\"va-slider\"\n    :class=\"sliderClass\"\n    v-bind=\"ariaAttributesComputed\"\n  >\n    <div\n      v-if=\"vertical ? $slots.append : $slots.prepend\"\n      class=\"va-slider__input-wrapper\"\n      aria-hidden=\"true\"\n    >\n      <slot :name=\"vertical ? 'append' : 'prepend'\" />\n    </div>\n    <span\n      v-if=\"($slots.label || label) && !invertLabel\"\n      class=\"va-input__label\"\n      :id=\"ariaLabelIdComputed\"\n      :style=\"labelStyles\"\n    >\n      <slot name=\"label\">\n        {{ label }}\n      </slot>\n    </span>\n    <span\n      v-if=\"vertical ? iconAppend : iconPrepend\"\n      class=\"va-input__label\"\n      aria-hidden=\"true\"\n    >\n      <va-icon\n        :name=\"vertical ? iconAppend : iconPrepend\"\n        :color=\"getColor($props.color)\"\n        :size=\"16\"\n      />\n    </span>\n    <div\n      ref=\"sliderContainer\"\n      class=\"va-slider__container\"\n      @mousedown=\"clickOnContainer\"\n      @mouseup=\"hasMouseDown = false\"\n      @touchstart=\"clickOnContainer\"\n    >\n      <div\n        class=\"va-slider__track\"\n        aria-hidden=\"true\"\n        :style=\"trackStyles\"\n      />\n      <template v-if=\"pins\">\n        <div\n          v-for=\"(pin, i) in pinsCol\"\n          :key=\"i\"\n          class=\"va-slider__mark\"\n          :class=\"{ 'va-slider__mark--active': checkActivePin(pin) }\"\n          :style=\"getPinStyles(pin)\"\n        />\n      </template>\n      <template v-if=\"$props.range\">\n        <div\n          ref=\"process\"\n          class=\"va-slider__track va-slider__track--selected\"\n          aria-hidden=\"true\"\n          :class=\"{'va-slider__track--active': isFocused}\"\n          :style=\"processedStyles\"\n        />\n        <div\n          v-for=\"order in orders\"\n          :key=\"'dot' + order\"\n          :ref=\"setItemRefByIndex(order)\"\n          class=\"va-slider__handler\"\n          :class=\"dotClass\"\n          :style=\"getDottedStyles(order)\"\n          :tabindex=\"disabled || readonly ? undefined : 0\"\n          @focus=\"isFocused = true, currentSliderDotIndex = order\"\n          @blur=\"isFocused = false\"\n        >\n          <div\n            v-if=\"isActiveDot(order)\"\n            :style=\"{ backgroundColor: getColor($props.color) }\"\n            class=\"va-slider__handler__dot--focus\"\n          />\n          <div\n            v-if=\"trackLabelVisible\"\n            :style=\"labelStyles\"\n            class=\"va-slider__handler__dot--value\"\n          >\n            <slot\n              name=\"trackLabel\"\n              v-bind=\"{ value: getValueByOrder(order), order }\"\n            >\n              {{ getTrackLabel(getValueByOrder(order), order) }}\n            </slot>\n          </div>\n        </div>\n      </template>\n      <template v-else>\n        <div\n          ref=\"process\"\n          aria-hidden=\"true\"\n          class=\"va-slider__track va-slider__track--selected\"\n          :class=\"{'va-slider__track--active': isFocused}\"\n          :style=\"processedStyles\"\n        />\n        <div\n          ref=\"dot\"\n          class=\"va-slider__handler\"\n          :class=\"dotClass\"\n          :style=\"dottedStyles\"\n          :tabindex=\"$props.disabled || $props.readonly ? undefined : 0\"\n          @focus=\"isFocused = true\"\n          @blur=\"isFocused = false\"\n        >\n          <div\n            v-if=\"isActiveDot(0)\"\n            class=\"va-slider__handler__dot--focus\"\n            :style=\"{ backgroundColor: getColor($props.color) }\"\n          />\n          <div\n            v-if=\"trackLabelVisible\"\n            class=\"va-slider__handler__dot--value\"\n            :style=\"labelStyles\"\n          >\n            <slot\n              name=\"trackLabel\"\n              v-bind=\"{ value: getValueByOrder() }\"\n            >\n              {{ getTrackLabel(getValueByOrder()) }}\n            </slot>\n          </div>\n        </div>\n      </template>\n    </div>\n    <span\n      v-if=\"vertical ? iconPrepend : iconAppend\"\n      class=\"va-input__label--inverse\"\n      aria-hidden=\"true\"\n    >\n      <va-icon\n        :name=\"vertical ? iconPrepend : iconAppend\"\n        :color=\"getColor($props.color)\"\n        :size=\"16\"\n      />\n    </span>\n    <span\n      v-if=\"($slots.label || label) && invertLabel\"\n      class=\"va-input__label va-input__label--inverse\"\n      :style=\"labelStyles\"\n    >\n      <slot name=\"label\">\n        {{ label }}\n      </slot>\n    </span>\n    <div\n      v-if=\"vertical ? $slots.prepend : $slots.append\"\n      class=\"va-slider__input-wrapper\"\n    >\n      <slot :name=\"vertical ? 'prepend' : 'append'\" />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, watch, PropType, ref, computed, onMounted, onBeforeUnmount, shallowRef, CSSProperties } from 'vue'\nimport pick from 'lodash/pick.js'\n\nimport { generateUniqueId } from '../../services/utils'\nimport { useColors, useArrayRefs, useBem } from '../../composables'\nimport { validateSlider } from './validateSlider'\n\nimport { VaIcon } from '../va-icon'\n\nexport default defineComponent({\n  name: 'VaSlider',\n  components: { VaIcon },\n  emits: ['drag-start', 'drag-end', 'change', 'update:modelValue'],\n  props: {\n    range: { type: Boolean, default: false },\n    modelValue: ({ type: [Number, Array] as PropType<number | number[]>, default: 0 }),\n    trackLabel: ({ type: [Function, String] as PropType<string | ((val: number, order?: number) => string) | undefined> }),\n    color: { type: String, default: 'primary' },\n    trackColor: { type: String, default: '' },\n    labelColor: { type: String, default: '' },\n    trackLabelVisible: { type: Boolean, default: false },\n    min: { type: Number, default: 0 },\n    max: { type: Number, default: 100 },\n    step: { type: Number, default: 1 },\n    label: { type: String, default: '' },\n    invertLabel: { type: Boolean, default: false },\n    disabled: { type: Boolean, default: false },\n    readonly: { type: Boolean, default: false },\n    pins: { type: Boolean, default: false },\n    iconPrepend: { type: String, default: '' },\n    iconAppend: { type: String, default: '' },\n    vertical: { type: Boolean, default: false },\n    showTrack: { type: Boolean, default: true },\n  },\n  setup (props, { emit }) {\n    const { getColor, getHoverColor } = useColors()\n\n    const sliderContainer = shallowRef<HTMLElement>()\n    const dot = shallowRef<HTMLElement>()\n    const { setItemRefByIndex, itemRefs: dots } = useArrayRefs()\n\n    const isFocused = ref(false)\n    const flag = ref(false)\n    const offset = ref(0)\n    const size = ref(0)\n    const currentValue = ref(props.modelValue)\n    const currentSliderDotIndex = ref(0)\n    const hasMouseDown = ref(false)\n\n    const orders = computed(() => props.vertical ? [1, 0] : [0, 1])\n\n    const pinPositionStyle = computed(() => props.vertical ? 'bottom' : 'left')\n    const trackSizeStyle = computed(() => props.vertical ? 'height' : 'width')\n\n    const moreToLess = computed(() => Array.isArray(val.value) && (val.value[1] - props.step) < val.value[0])\n\n    const lessToMore = computed(() => Array.isArray(val.value) && (val.value[0] + props.step) > val.value[1])\n\n    const sliderClass = useBem('va-slider', () => ({\n      ...pick(props, ['disabled', 'readonly', 'vertical']),\n      active: isFocused.value,\n      horizontal: !props.vertical,\n      grabbing: hasMouseDown.value,\n    }))\n\n    const dotClass = useBem('va-slider__handler', () => ({\n      onFocus: !props.range && (flag.value || isFocused.value),\n      inactive: !isFocused.value,\n    }))\n\n    const labelStyles = computed(() => ({\n      color: props.labelColor ? getColor(props.labelColor) : getColor(props.color),\n    }))\n\n    const trackStyles = computed(() => ({\n      backgroundColor: props.trackColor\n        ? getColor(props.trackColor)\n        : getHoverColor(getColor(props.color)),\n    }))\n\n    const processedStyles = computed(() => {\n      const validatedValue = limitValue(props.modelValue)\n\n      if (Array.isArray(validatedValue)) {\n        const val0 = ((validatedValue[0] - props.min) / (props.max - props.min)) * 100\n        const val1 = ((validatedValue[1] - props.min) / (props.max - props.min)) * 100\n\n        return {\n          [pinPositionStyle.value]: `${val0}%`,\n          [trackSizeStyle.value]: `${val1 - val0}%`,\n          backgroundColor: getColor(props.color),\n          visibility: props.showTrack ? 'visible' : 'hidden',\n        } as CSSProperties\n      } else {\n        const val = ((validatedValue - props.min) / (props.max - props.min)) * 100\n\n        return {\n          [trackSizeStyle.value]: `${val}%`,\n          backgroundColor: getColor(props.color),\n          visibility: props.showTrack ? 'visible' : 'hidden',\n        } as CSSProperties\n      }\n    })\n\n    const dottedStyles = computed(() => {\n      const validatedValue = limitValue(props.modelValue)\n\n      if (Array.isArray(validatedValue)) {\n        const val0 = ((validatedValue[0] - props.min) / (props.max - props.min)) * 100\n        const val1 = ((validatedValue[1] - props.min) / (props.max - props.min)) * 100\n\n        return [\n          {\n            [pinPositionStyle.value]: `${val0}%`,\n            backgroundColor: isActiveDot(0) ? getColor(props.color) : '#ffffff',\n            borderColor: getColor(props.color),\n          },\n          {\n            [pinPositionStyle.value]: `${val1}%`,\n            backgroundColor: isActiveDot(1) ? getColor(props.color) : '#ffffff',\n            borderColor: getColor(props.color),\n          },\n        ] as CSSProperties[]\n      } else {\n        const val = ((validatedValue - props.min) / (props.max - props.min)) * 100\n\n        return {\n          [pinPositionStyle.value]: `${val}%`,\n          backgroundColor: isActiveDot(0) ? getColor(props.color) : '#ffffff',\n          borderColor: getColor(props.color),\n        } as CSSProperties\n      }\n    })\n\n    const getDottedStyles = (index?: number) => props.range && index !== undefined\n      ? (dottedStyles.value as CSSProperties[])[index]\n      : dottedStyles.value\n\n    const val = computed({\n      get: () => props.modelValue,\n      set: (val) => {\n        if (!props.range) {\n          val = limitValue(val)\n        }\n\n        if (!flag.value) {\n          emit('change', val)\n        }\n\n        emit('update:modelValue', val)\n      },\n    })\n\n    const getValueByOrder = (order?: number) => props.range && order !== undefined\n      ? (val.value as number[])[order]\n      : val.value as number\n\n    const gap = computed(() => {\n      const total = (props.max - props.min) / props.step\n\n      return size.value / total\n    })\n\n    const multiple = computed(() => {\n      const decimals = `${props.step}`.split('.')[1]\n\n      return decimals ? Math.pow(10, decimals.length) : 1\n    })\n\n    const pinsCol = computed(() => ((props.max - props.min) / props.step) - 1)\n\n    const position = computed(() => {\n      return Array.isArray(props.modelValue)\n        ? [(props.modelValue[0] - props.min) / props.step * gap.value, (props.modelValue[1] - props.min) / props.step * gap.value]\n        : ((props.modelValue - props.min) / props.step * gap.value)\n    })\n\n    const limit = computed(() => [0, size.value])\n\n    const valueLimit = computed(() => [props.min, props.max])\n\n    const isActiveDot = (index: number) => {\n      if ((!isFocused.value && !flag.value) || props.disabled || props.readonly) {\n        return false\n      }\n\n      return props.range ? currentSliderDotIndex.value === index : currentSliderDotIndex.value === 0\n    }\n\n    const moveStart = (e: MouseEvent | TouchEvent, index = currentSliderDotIndex.value) => {\n      e.preventDefault() // prevent page scrolling\n\n      if (!index) {\n        if (!props.range) {\n          index = 0\n        } else if (Array.isArray(position.value)) {\n          const touch = 'touches' in e ? e.touches[0] : e\n          const pos = getPos(touch)\n\n          index = pos > ((position.value[1] - position.value[0]) / 2 + position.value[0]) ? 1 : 0\n        }\n      }\n\n      if (Array.isArray(props.modelValue)) {\n        currentSliderDotIndex.value = index\n      }\n\n      Array.isArray(props.modelValue)\n        ? dots.value[index]?.focus()\n        : dot.value?.focus()\n\n      flag.value = true\n\n      emit('drag-start')\n    }\n\n    const moving = (e: TouchEvent | MouseEvent) => {\n      if (!hasMouseDown.value || !flag.value || props.disabled || props.readonly) { return }\n\n      e.preventDefault()\n\n      if ('touches' in e) {\n        setValueOnPos(getPos(e.touches[0]))\n      } else {\n        setValueOnPos(getPos(e))\n      }\n    }\n\n    const moveEnd = () => {\n      if (!props.disabled && !props.readonly) {\n        if (flag.value) {\n          emit('drag-end')\n          emit('change', props.modelValue)\n        } else {\n          return false\n        }\n\n        flag.value = false\n        hasMouseDown.value = false\n      }\n    }\n\n    const moveWithKeys = (event: KeyboardEvent) => {\n      // don't do anything if a dot isn't focused or if the slider's disabled or readonly\n      if (![dots.value[0], dots.value[1], dot.value].includes(document.activeElement as HTMLElement)) {\n        return\n      }\n      if (props.disabled || props.readonly) {\n        return\n      }\n\n      /*\n        where: where to move\n          0 - to left\n          1 - to right\n\n        which: which dot to move (only makes sense when isRange is true)\n          0 - left dot\n          1 - right dot\n        */\n      const moveDot = (isRange: boolean, where: number, which: number) => {\n        if (isRange && Array.isArray(val.value)) {\n          if (!props.pins) {\n            return val.value.splice(which, 1, val.value[which] + (where ? props.step : -props.step))\n          }\n\n          // how many value units one pin occupies\n          const onePinInterval = (props.max - props.min) / (pinsCol.value + 1)\n          // how many full pins are to the left of the dot now\n          const fullPinsNow = val.value[which] / onePinInterval | 0\n          // the value of the nearest pin\n          let nearestPinVal = fullPinsNow * onePinInterval\n\n          if (val.value[which] !== nearestPinVal) { // if the dot's not pinned already\n            nearestPinVal += where ? onePinInterval : 0 // take one more pin if moving right\n            val.value.splice(which, 1, nearestPinVal)\n          } else {\n            val.value.splice(which, 1, val.value[which] + (where ? props.step : -props.step))\n          }\n        } else {\n          if (!props.pins && !Array.isArray(val.value)) {\n            val.value += where ? props.step : -props.step\n            return\n          }\n\n          // how many value units one pin occupies\n          const onePinInterval = (props.max - props.min) / (pinsCol.value + 1)\n          // how many full pins are to the left of the dot now\n          const fullPinsNow = !Array.isArray(val.value) ? val.value / onePinInterval | 0 : 0\n          // the value of the nearest pin\n          let nearestPinVal = fullPinsNow * onePinInterval\n\n          if (val.value !== nearestPinVal) { // if the dot's not pinned already\n            nearestPinVal += where ? onePinInterval : 0 // take one more pin if moving right\n            val.value = nearestPinVal\n          } else {\n            val.value += where ? props.step : -props.step\n          }\n        }\n      }\n\n      // prevent page scroll\n      if (['ArrowLeft', 'ArrowUp', 'ArrowRight', 'ArrowDown'].includes(event.key)) {\n        event.preventDefault()\n      }\n\n      const isActive = (el?: HTMLElement) => el === document.activeElement\n\n      if (props.range && Array.isArray(val.value)) {\n        const isVerticalDot0More = (event: KeyboardEvent) => props.vertical && isActive(dots.value[0]) && event.key === 'ArrowUp'\n        const isVerticalDot0Less = (event: KeyboardEvent) => props.vertical && isActive(dots.value[0]) && event.key === 'ArrowDown'\n        const isVerticalDot1More = (event: KeyboardEvent) => props.vertical && isActive(dots.value[1]) && event.key === 'ArrowUp'\n        const isVerticalDot1Less = (event: KeyboardEvent) => props.vertical && isActive(dots.value[1]) && event.key === 'ArrowDown'\n        const isHorizontalDot0Less = (event: KeyboardEvent) => !props.vertical && isActive(dots.value[0]) && event.key === 'ArrowLeft'\n        const isHorizontalDot0More = (event: KeyboardEvent) => !props.vertical && isActive(dots.value[0]) && event.key === 'ArrowRight'\n        const isHorizontalDot1Less = (event: KeyboardEvent) => !props.vertical && isActive(dots.value[1]) && event.key === 'ArrowLeft'\n        const isHorizontalDot1More = (event: KeyboardEvent) => !props.vertical && isActive(dots.value[1]) && event.key === 'ArrowRight'\n\n        switch (true) {\n          case (isVerticalDot1Less(event) || isHorizontalDot1Less(event)) && moreToLess.value && val.value[0] !== props.min:\n            dots.value[0]?.focus()\n            moveDot(true, 0, 0)\n            break\n          case (isVerticalDot0More(event) || isHorizontalDot0More(event)) && lessToMore.value && val.value[1] !== props.max:\n            dots.value[1]?.focus()\n            moveDot(true, 1, 1)\n            break\n          case (isVerticalDot0Less(event) || isHorizontalDot0Less(event)) && val.value[0] !== props.min:\n            moveDot(true, 0, 0)\n            break\n          case (isVerticalDot1More(event) || isHorizontalDot1More(event)) && val.value[1] !== props.max:\n            moveDot(true, 1, 1)\n            break\n          case (isVerticalDot1Less(event) || isHorizontalDot1Less(event)) && val.value[1] !== props.min:\n            moveDot(true, 0, 1)\n            break\n          case (isVerticalDot0More(event) || isHorizontalDot0More(event)) && val.value[0] !== props.max:\n            moveDot(true, 1, 0)\n            break\n          default:\n            break\n        }\n      } else {\n        if (props.vertical) {\n          if (event.key === 'ArrowDown') {\n            moveDot(false, 0, 0)\n          }\n          if (event.key === 'ArrowUp') {\n            moveDot(false, 1, 0)\n          }\n        } else {\n          if (event.key === 'ArrowLeft') {\n            moveDot(false, 0, 0)\n          }\n          if (event.key === 'ArrowRight') {\n            moveDot(false, 1, 0)\n          }\n        }\n      }\n    }\n\n    const checkActivePin = (pin: number) => {\n      if (Array.isArray(val.value)) {\n        return pin * props.step > val.value[0] && pin * props.step < val.value[1]\n      } else {\n        return pin * props.step < val.value\n      }\n    }\n\n    const pinPositionStep = computed(() => props.step / (props.max - props.min) * 100)\n    const getPinStyles = (pin: number) => ({\n      backgroundColor: checkActivePin(pin) ? getColor(props.color) : getHoverColor(getColor(props.color)),\n      [pinPositionStyle.value]: `${pin * pinPositionStep.value}%`,\n      transition: hasMouseDown.value ? 'none' : 'var(--va-slider-pin-transition)',\n    })\n\n    const getPos = (e: MouseEvent | Touch) => {\n      getStaticData()\n\n      return props.vertical ? offset.value - e.clientY : e.clientX - offset.value\n    }\n\n    const getStaticData = () => {\n      if (sliderContainer.value) {\n        size.value = sliderContainer.value[props.vertical ? 'offsetHeight' : 'offsetWidth']\n\n        offset.value = sliderContainer.value.getBoundingClientRect()[pinPositionStyle.value]\n      }\n    }\n\n    const getValueByIndex = (index: number) => {\n      return ((props.step * multiple.value) * index + (props.min * multiple.value)) / multiple.value\n    }\n\n    const getTrackLabel = (val: number, order?: number) => {\n      if (!props.trackLabel) { return val }\n\n      return typeof props.trackLabel === 'function'\n        ? props.trackLabel(val, order)\n        : props.trackLabel\n    }\n\n    const setCurrentValue = (newValue: number) => {\n      const slider = currentSliderDotIndex.value\n\n      if (Array.isArray(val.value) && Array.isArray(currentValue.value) && Array.isArray(props.modelValue)) {\n        if (isDiff(currentValue.value[slider], newValue)) {\n          currentValue.value.splice(slider, 1, newValue)\n          if (slider === 0) {\n            val.value = [currentValue.value.splice(slider, 1, newValue)[0], props.modelValue[1]]\n            currentValue.value = [...val.value]\n          } else {\n            val.value = [props.modelValue[0], currentValue.value.splice(slider, 1, newValue)[0]]\n            currentValue.value = [...val.value]\n          }\n        }\n      } else {\n        if (newValue < props.min || newValue > props.max) {\n          return false\n        }\n        if (isDiff(currentValue.value, newValue)) {\n          currentValue.value = newValue\n          val.value = newValue\n        }\n      }\n    }\n\n    const setValueOnPos = (pixelPosition: number) => {\n      const range = limit.value\n      const valueRange = valueLimit.value\n\n      // set focus on current thumb\n      const dotToFocus = Array.isArray(props.modelValue)\n        ? dots.value[currentSliderDotIndex.value]\n        : dot.value\n\n      dotToFocus?.focus()\n\n      if (pixelPosition >= range[0] && pixelPosition <= range[1]) {\n        if (currentSliderDotIndex.value) {\n          if (Array.isArray(position.value) && Array.isArray(val.value) && pixelPosition <= position.value[0]) {\n            val.value[1] = val.value[0]\n            currentSliderDotIndex.value = 0\n          }\n          const v = getValueByIndex(Math.round(pixelPosition / gap.value))\n          setCurrentValue(v)\n        } else {\n          if (Array.isArray(position.value) && Array.isArray(val.value) && pixelPosition >= position.value[1]) {\n            val.value[0] = val.value[1]\n            currentSliderDotIndex.value = 1\n          }\n          const v = getValueByIndex(Math.round(pixelPosition / gap.value))\n          setCurrentValue(v)\n        }\n      } else if (pixelPosition < range[0]) {\n        setCurrentValue(valueRange[0])\n      } else {\n        setCurrentValue(valueRange[1])\n      }\n    }\n\n    const limitValue = (val: number | number[]) => {\n      const inRange = (v: number) => {\n        if (v < props.min) {\n          return props.min\n        } else if (v > props.max) {\n          return props.max\n        }\n        return v\n      }\n\n      if (Array.isArray(val)) {\n        if (val[0] >= val[1] && currentSliderDotIndex.value === 0) {\n          const v = inRange(val[1])\n          return [v, v]\n        }\n        if (val[0] >= val[1] && currentSliderDotIndex.value === 1) {\n          const v = inRange(val[0])\n          return [v, v]\n        }\n        return val.map((v) => inRange(v))\n      } else {\n        return inRange(val)\n      }\n    }\n\n    const isDiff = (a: unknown, b: unknown) => JSON.stringify(a) !== JSON.stringify(b)\n\n    const clickOnContainer = (e: MouseEvent | TouchEvent) => {\n      if (props.disabled || props.readonly) {\n        return\n      }\n\n      const pos = ('touches' in e) ? getPos(e.touches[0]) : getPos(e)\n\n      if (Array.isArray(position.value)) {\n        currentSliderDotIndex.value = pos > ((position.value[1] - position.value[0]) / 2 + position.value[0]) ? 1 : 0\n      }\n\n      hasMouseDown.value = true\n      setValueOnPos(pos)\n      moveStart(e, currentSliderDotIndex.value)\n    }\n\n    const bindEvents = () => {\n      document.addEventListener('mousemove', moving)\n      document.addEventListener('touchmove', moving, { passive: false })\n      document.addEventListener('mouseup', moveEnd)\n      document.addEventListener('mouseleave', moveEnd)\n      document.addEventListener('touchcancel', moveEnd)\n      document.addEventListener('touchend', moveEnd)\n      document.addEventListener('keydown', moveWithKeys)\n    }\n\n    const unbindEvents = () => {\n      document.removeEventListener('mousemove', moving)\n      document.removeEventListener('touchmove', moving)\n      document.removeEventListener('mouseup', moveEnd)\n      document.removeEventListener('mouseleave', moveEnd)\n      document.removeEventListener('touchcancel', moveEnd)\n      document.removeEventListener('touchend', moveEnd)\n      document.removeEventListener('keydown', moveWithKeys)\n    }\n\n    const ariaLabelIdComputed = computed(() => `aria-label-id-${generateUniqueId()}`)\n\n    const ariaAttributesComputed = computed(() => ({\n      role: 'slider',\n      ariaValuemin: props.min,\n      ariaValuemax: props.max,\n      ariaLabelledby: ariaLabelIdComputed.value,\n      ariaOrientation: props.vertical ? 'vertical' : 'horizontal',\n      ariaDisabled: props.disabled,\n      ariaReadonly: props.readonly,\n      ariaValuenow: !Array.isArray(props.modelValue) ? props.modelValue : undefined,\n    }))\n\n    onMounted(() => {\n      if (validateSlider(props.modelValue, props.step, props.min, props.max, props.range)) {\n        getStaticData()\n        bindEvents()\n      }\n    })\n\n    onBeforeUnmount(unbindEvents)\n\n    watch([\n      val,\n      () => props.step,\n      () => props.min,\n      () => props.max,\n      () => props.range,\n    ], ([value, step, min, max, range]) => {\n      validateSlider(value, step, min, max, range)\n    })\n\n    watch(hasMouseDown, (hasMouseDown) => {\n      document.documentElement.style.cursor = hasMouseDown ? 'grabbing' : ''\n    })\n\n    return {\n      getColor,\n      dot,\n      dots,\n      setItemRefByIndex,\n      orders,\n      sliderContainer,\n      val,\n      getValueByOrder,\n      sliderClass,\n      dotClass,\n      labelStyles,\n      processedStyles,\n      getPinStyles,\n      dottedStyles,\n      getDottedStyles,\n      clickOnContainer,\n      hasMouseDown,\n      trackStyles,\n      pinsCol,\n      checkActivePin,\n      isFocused,\n      isActiveDot,\n      getTrackLabel,\n      currentSliderDotIndex,\n      ariaLabelIdComputed,\n      ariaAttributesComputed,\n    }\n  },\n})\n</script>\n\n<style lang='scss'>\n@import \"../../styles/resources\";\n@import \"variables\";\n\n.va-slider {\n  display: var(--va-slider-display);\n  align-items: var(--va-slider-align-items);\n  font-family: var(--va-font-family);\n\n  &__input-wrapper {\n    position: var(--va-slider-input-wrapper-position);\n    display: var(--va-slider-input-wrapper-display);\n  }\n\n  &__container {\n    position: relative;\n    display: flex;\n    align-items: center;\n    cursor: grab;\n  }\n\n  &__track {\n    position: var(--va-slider-track-position);\n    border-radius: var(--va-slider-track-border-radius);\n    transition: var(--va-slider-track-transition);\n    opacity: var(--va-slider-track-opacity);\n\n    &--active {\n      transition: 0s;\n    }\n  }\n\n  &__track--selected {\n    opacity: 1;\n  }\n\n  &__handler {\n    position: var(--va-slider-handler-position);\n    width: var(--va-slider-handler-width);\n    height: var(--va-slider-handler-height);\n    background: var(--va-slider-handler-background);\n    border: var(--va-slider-handler-border);\n    border-radius: var(--va-slider-handler-border-radius);\n    outline: var(--va-slider-handler-outline);\n    left: var(--va-slider-handler-left);\n    transition: var(--va-slider-handler-transition);\n\n    &__dot--focus {\n      transform: var(--va-slider-dot-transform);\n      display: var(--va-slider-dot-display);\n      width: var(--va-slider-dot-width);\n      height: var(--va-slider-dot-height);\n      position: var(--va-slider-dot-position);\n      border-radius: var(--va-slider-dot-border-radius);\n      opacity: var(--va-slider-dot-opacity);\n      pointer-events: var(--va-slider-dot-pointer-events);\n    }\n\n    &__dot--value {\n      transform: var(--va-slider-dot-value-transform);\n      user-select: var(--va-slider-dot-value-user-select);\n      font-size: var(--va-slider-dot-value-font-size);\n      letter-spacing: var(--va-slider-dot-value-letter-spacing);\n      line-height: var(--va-slider-dot-value-line-height);\n      font-weight: var(--va-slider-dot-value-font-weight);\n      text-transform: var(--va-slider-dot-value-text-transform);\n      white-space: var(--va-slider-dot-value-white-space);\n    }\n  }\n\n  .va-input__label {\n    user-select: var(--va-slider-input-label-user-select);\n    font-size: var(--va-slider-input-label-font-size);\n    letter-spacing: var(--va-slider-input-label-letter-spacing);\n    line-height: var(--va-slider-input-label-line-height);\n    font-weight: var(--va-slider-input-label-font-weight);\n    text-transform: var(--va-slider-input-label-text-transform);\n  }\n\n  .va-input__label--inverse {\n    user-select: var(--va-slider-input-label-inverse-user-select);\n    font-size: var(--va-slider-input-label-inverse-font-size);\n    letter-spacing: var(--va-slider-input-label-inverse-letter-spacing);\n    line-height: var(--va-slider-input-label-inverse-line-height);\n    font-weight: var(--va-slider-input-label-inverse-font-weight);\n    text-transform: var(--va-slider-input-label-inverse-text-transform);\n  }\n\n  &--grabbing {\n    .va-slider__container {\n      cursor: grabbing;\n    }\n  }\n\n  &--disabled {\n    @include va-disabled;\n\n    .va-slider__container {\n      cursor: default;\n    }\n  }\n\n  &--readonly {\n    .va-slider__container {\n      cursor: default;\n    }\n  }\n}\n\n.va-slider--horizontal {\n  .va-slider__input-wrapper {\n    flex-basis: var(--va-slider-horizontal-input-wrapper-flex-basis);\n    flex-grow: var(--va-slider-horizontal-input-wrapper-flex-grow);\n    margin-right: var(--va-slider-horizontal-input-wrapper-margin-right);\n\n    &:last-of-type {\n      margin-left: 1rem;\n    }\n  }\n\n  .va-slider {\n    &__container {\n      width: 100%;\n      height: 1.5rem;\n    }\n\n    &__track {\n      height: var(--va-slider-horizontal-track-height);\n      width: var(--va-slider-horizontal-track-width);\n    }\n\n    &__mark {\n      position: absolute;\n      width: 0.125rem;\n      height: 0.75rem;\n    }\n\n    &__handler {\n      transform: var(--va-slider-horizontal-handler-transform);\n\n      &--inactive {\n        transition: left 0.5s ease-out;\n      }\n\n      &__dot--value {\n        position: var(--va-slider-horizontal-dot-value-position);\n        top: var(--va-slider-horizontal-dot-value-top);\n        left: var(--va-slider-horizontal-dot-value-left);\n      }\n    }\n  }\n\n  .va-input__label {\n    margin-right: 1rem;\n  }\n\n  .va-input__label--inverse {\n    margin-left: 1rem;\n  }\n}\n\n.va-slider--vertical {\n  height: var(--va-slider-vertical-height);\n  padding: var(--va-slider-vertical-padding);\n  flex-direction: var(--va-slider-vertical-flex-direction);\n  align-items: var(--va-slider-vertical-align-items);\n\n  .va-input__label {\n    margin-bottom: var(--va-slider-vertical-label-margin-bottom);\n  }\n\n  .va-input__label--inverse {\n    left: var(--va-slider-vertical-label-inverse-left);\n    margin-top: var(--va-slider-vertical-label-inverse-margin-top);\n  }\n\n  .va-slider {\n    &__input-wrapper {\n      flex-basis: var(--va-slider-vertical-input-wrapper-flex-basis);\n      flex-grow: var(--va-slider-vertical-input-wrapper-flex-grow);\n      max-width: var(--va-slider-vertical-input-wrapper-max-width);\n      min-width: var(--va-slider-vertical-input-wrapper-min-width);\n      position: var(--va-slider-vertical-input-wrapper-position);\n      display: var(--va-slider-vertical-input-wrapper-display);\n\n      &:last-of-type {\n        margin-top: 1rem;\n      }\n    }\n\n    &__container {\n      height: 100%;\n      width: 0.5rem;\n    }\n\n    &__track {\n      height: var(--va-slider-vertical-track-height);\n      width: var(--va-slider-vertical-track-width);\n      bottom: var(--va-slider-vertical-track-bottom);\n    }\n\n    &__mark {\n      position: absolute;\n      width: 0.75rem;\n      height: 0.125rem;\n      left: -2px;\n    }\n\n    &__handler {\n      transform: var(--va-slider-vertical-handler-transform);\n\n      &--inactive {\n        transition: bottom 0.5s ease-out;\n      }\n\n      &__dot--value {\n        position: var(--va-slider-vertical-dot-value-position);\n        top: var(--va-slider-vertical-dot-value-top);\n        left: var(--va-slider-vertical-dot-value-left);\n      }\n    }\n  }\n}\n</style>\n","import withConfigTransport from '../../services/config-transport/withConfigTransport'\nimport _VaSlider from './VaSlider.vue'\n\nexport const VaSlider = withConfigTransport(_VaSlider)\n"],"names":["pick","_openBlock","_createElementBlock","_mergeProps","_renderSlot","_createVNode","_createElementVNode","_Fragment","_renderList","_normalizeClass","_normalizeStyle","_createTextVNode","_toDisplayString","_normalizeProps","_guardReactiveProps","_VaSlider"],"mappings":"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"}