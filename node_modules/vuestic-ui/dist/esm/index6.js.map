{"version":3,"file":"index6.js","sources":["../../src/components/va-backtop/VaBacktop.vue","../../src/components/va-backtop/VaBacktop.vue?vue&type=template&id=17846d70&lang.js","../../src/components/va-backtop/index.ts"],"sourcesContent":["<template>\n  <div\n    v-if=\"visible\"\n    class=\"va-backtop\"\n    role=\"button\"\n    aria-label=\"back to top\"\n    :style=\"computedStyle\"\n    @click=\"scrollToTop\"\n    @keydown.enter.stop=\"scrollToTop\"\n  >\n    <slot>\n      <va-button\n        aria-hidden=\"true\"\n        icon=\"expand_less\"\n        :color=\"color\"\n      />\n    </slot>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType, ref, computed, onMounted, onBeforeUnmount } from 'vue'\n\nimport { VaButton } from '../va-button'\n\nexport default defineComponent({\n  name: 'VaBacktop',\n  components: { VaButton },\n  props: {\n    target: {\n      type: [Object, String] as PropType<Element | string | undefined>,\n      default: undefined,\n    },\n    visibilityHeight: { type: Number, default: 300 },\n    speed: { type: Number, default: 50 },\n    verticalOffset: { type: String, default: '1rem' },\n    horizontalOffset: { type: String, default: '1rem' },\n    color: { type: String, default: '' },\n    horizontalPosition: {\n      type: String as PropType<'right' | 'left'>,\n      default: 'right',\n      validator: (value: string) => ['right', 'left'].includes(value),\n    },\n    verticalPosition: {\n      type: String as PropType<'bottom' | 'top'>,\n      default: 'bottom',\n      validator: (value: string) => ['bottom', 'top'].includes(value),\n    },\n  },\n  setup (props) {\n    const targetScrollValue = ref(0)\n\n    const computedStyle = computed(() => ({\n      [props.verticalPosition]: props.verticalOffset,\n      [props.horizontalPosition]: props.horizontalOffset,\n    }))\n\n    let targetElement: Element | Window\n\n    const getTargetElement = () => {\n      if (!props.target) { return window as Window }\n      if (typeof props.target === 'string') { return document.querySelector(props.target) as Element }\n      return props.target as Element\n    }\n\n    const scrolled = ref(false)\n    const interval = ref(0)\n    const scrollToTop = () => {\n      if (scrolled.value) { return }\n\n      scrolled.value = true\n\n      if (targetElement instanceof Window) {\n        window.scrollTo({\n          top: 0,\n          behavior: 'smooth',\n        })\n\n        return\n      }\n\n      interval.value = window.setInterval(() => {\n        if (targetElement instanceof Element) {\n          if (targetElement.scrollTop === 0) {\n            clearInterval(interval.value)\n            scrolled.value = false\n          } else {\n            const next = Math.floor(targetElement.scrollTop - props.speed)\n            targetElement.scrollTo(0, next)\n          }\n        }\n      }, 15)\n    }\n\n    const handleScroll = () => {\n      targetScrollValue.value = targetElement instanceof Window\n        ? targetElement.scrollY\n        : targetElement.scrollTop\n    }\n\n    const visible = computed(() => targetScrollValue.value > props.visibilityHeight)\n\n    onMounted(() => {\n      targetElement = getTargetElement()\n      targetElement.addEventListener('scroll', handleScroll, true)\n    })\n    onBeforeUnmount(() => targetElement?.removeEventListener('scroll', handleScroll))\n\n    return {\n      computedStyle,\n      visible,\n      scrollToTop,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import \"variables\";\n\n.va-backtop {\n  position: var(--va-backtop-position);\n  top: var(--va-backtop-top);\n  left: var(--va-backtop-left);\n  right: var(--va-backtop-right);\n  bottom: var(--va-backtop-bottom);\n  cursor: var(--va-backtop-cursor);\n  z-index: var(--va-backtop-z-index);\n  font-family: var(--va-font-family);\n}\n</style>\n","<template>\n  <div\n    v-if=\"visible\"\n    class=\"va-backtop\"\n    role=\"button\"\n    aria-label=\"back to top\"\n    :style=\"computedStyle\"\n    @click=\"scrollToTop\"\n    @keydown.enter.stop=\"scrollToTop\"\n  >\n    <slot>\n      <va-button\n        aria-hidden=\"true\"\n        icon=\"expand_less\"\n        :color=\"color\"\n      />\n    </slot>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType, ref, computed, onMounted, onBeforeUnmount } from 'vue'\n\nimport { VaButton } from '../va-button'\n\nexport default defineComponent({\n  name: 'VaBacktop',\n  components: { VaButton },\n  props: {\n    target: {\n      type: [Object, String] as PropType<Element | string | undefined>,\n      default: undefined,\n    },\n    visibilityHeight: { type: Number, default: 300 },\n    speed: { type: Number, default: 50 },\n    verticalOffset: { type: String, default: '1rem' },\n    horizontalOffset: { type: String, default: '1rem' },\n    color: { type: String, default: '' },\n    horizontalPosition: {\n      type: String as PropType<'right' | 'left'>,\n      default: 'right',\n      validator: (value: string) => ['right', 'left'].includes(value),\n    },\n    verticalPosition: {\n      type: String as PropType<'bottom' | 'top'>,\n      default: 'bottom',\n      validator: (value: string) => ['bottom', 'top'].includes(value),\n    },\n  },\n  setup (props) {\n    const targetScrollValue = ref(0)\n\n    const computedStyle = computed(() => ({\n      [props.verticalPosition]: props.verticalOffset,\n      [props.horizontalPosition]: props.horizontalOffset,\n    }))\n\n    let targetElement: Element | Window\n\n    const getTargetElement = () => {\n      if (!props.target) { return window as Window }\n      if (typeof props.target === 'string') { return document.querySelector(props.target) as Element }\n      return props.target as Element\n    }\n\n    const scrolled = ref(false)\n    const interval = ref(0)\n    const scrollToTop = () => {\n      if (scrolled.value) { return }\n\n      scrolled.value = true\n\n      if (targetElement instanceof Window) {\n        window.scrollTo({\n          top: 0,\n          behavior: 'smooth',\n        })\n\n        return\n      }\n\n      interval.value = window.setInterval(() => {\n        if (targetElement instanceof Element) {\n          if (targetElement.scrollTop === 0) {\n            clearInterval(interval.value)\n            scrolled.value = false\n          } else {\n            const next = Math.floor(targetElement.scrollTop - props.speed)\n            targetElement.scrollTo(0, next)\n          }\n        }\n      }, 15)\n    }\n\n    const handleScroll = () => {\n      targetScrollValue.value = targetElement instanceof Window\n        ? targetElement.scrollY\n        : targetElement.scrollTop\n    }\n\n    const visible = computed(() => targetScrollValue.value > props.visibilityHeight)\n\n    onMounted(() => {\n      targetElement = getTargetElement()\n      targetElement.addEventListener('scroll', handleScroll, true)\n    })\n    onBeforeUnmount(() => targetElement?.removeEventListener('scroll', handleScroll))\n\n    return {\n      computedStyle,\n      visible,\n      scrollToTop,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import \"variables\";\n\n.va-backtop {\n  position: var(--va-backtop-position);\n  top: var(--va-backtop-top);\n  left: var(--va-backtop-left);\n  right: var(--va-backtop-right);\n  bottom: var(--va-backtop-bottom);\n  cursor: var(--va-backtop-cursor);\n  z-index: var(--va-backtop-z-index);\n  font-family: var(--va-font-family);\n}\n</style>\n","import withConfigTransport from '../../services/config-transport/withConfigTransport'\nimport _VaBacktop from './VaBacktop.vue'\n\nexport const VaBacktop = withConfigTransport(_VaBacktop)\n"],"names":["_createElementBlock","_renderSlot","_createVNode","_VaBacktop"],"mappings":"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"}