{"version":3,"file":"index32.js","sources":["../../src/components/va-image/VaImage.vue","../../src/components/va-image/VaImage.vue?vue&type=template&id=7ef4d00a&lang.js","../../src/components/va-image/index.ts"],"sourcesContent":["<template>\n  <div class=\"va-image\" aria-live=\"polite\">\n    <div\n      v-if=\"loadingError\"\n      class=\"va-image__error\"\n    >\n      <slot name=\"error\" />\n    </div>\n\n    <div :style=\"paddingStyles\" />\n    <div\n      v-show=\"!loadingError && !loading\"\n      class=\"va-image__img\"\n    >\n      <img\n        :style=\"imageStyles\"\n        :src=\"$props.src\"\n        :alt=\"$props.alt\"\n        @error=\"handleError\"\n        @load=\"handleLoad\"\n      />\n    </div>\n    <div class=\"va-image__overlay\">\n      <slot />\n    </div>\n    <div\n      v-if=\"loading\"\n      class=\"va-image__loader\"\n    >\n      <slot name=\"loader\" />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed, watch, ref } from 'vue'\n\nexport default defineComponent({\n  name: 'VaImage',\n  emits: ['loaded', 'error'],\n  props: {\n    ratio: { type: Number, default: 1 },\n    contain: { type: Boolean, default: false },\n    src: { type: String, required: true },\n    alt: { type: String, default: '' },\n  },\n  setup (props, { emit }) {\n    const loading = ref(true)\n    const loadingError = ref(false)\n\n    const imageStyles = computed(() => ({\n      objectFit: props.contain ? 'contain' as const : 'cover' as const,\n    }))\n\n    const paddingStyles = computed(() => ({\n      paddingBottom: `${1 / props.ratio * 100}%`,\n    }))\n\n    const handleLoad = () => {\n      loading.value = false\n      emit('loaded', props.src)\n    }\n\n    const handleError = (err: Event) => {\n      loadingError.value = true\n      loading.value = false\n      emit('error', err)\n    }\n\n    watch(() => props.src, () => {\n      loading.value = true\n      loadingError.value = false\n    })\n\n    return {\n      loading,\n      loadingError,\n      imageStyles,\n      paddingStyles,\n      handleLoad,\n      handleError,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import \"../../styles/resources\";\n@import \"variables\";\n\n.va-image {\n  overflow: var(--va-image-overflow);\n  position: var(--va-image-position);\n  font-family: var(--va-font-family);\n\n  img {\n    height: 100%;\n    width: 100%;\n  }\n\n  &__img,\n  &__loader,\n  &__error,\n  &__overlay {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n  }\n\n  &__loader,\n  &__error,\n  &__overlay {\n    @include flex-center();\n  }\n}\n</style>\n","<template>\n  <div class=\"va-image\" aria-live=\"polite\">\n    <div\n      v-if=\"loadingError\"\n      class=\"va-image__error\"\n    >\n      <slot name=\"error\" />\n    </div>\n\n    <div :style=\"paddingStyles\" />\n    <div\n      v-show=\"!loadingError && !loading\"\n      class=\"va-image__img\"\n    >\n      <img\n        :style=\"imageStyles\"\n        :src=\"$props.src\"\n        :alt=\"$props.alt\"\n        @error=\"handleError\"\n        @load=\"handleLoad\"\n      />\n    </div>\n    <div class=\"va-image__overlay\">\n      <slot />\n    </div>\n    <div\n      v-if=\"loading\"\n      class=\"va-image__loader\"\n    >\n      <slot name=\"loader\" />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed, watch, ref } from 'vue'\n\nexport default defineComponent({\n  name: 'VaImage',\n  emits: ['loaded', 'error'],\n  props: {\n    ratio: { type: Number, default: 1 },\n    contain: { type: Boolean, default: false },\n    src: { type: String, required: true },\n    alt: { type: String, default: '' },\n  },\n  setup (props, { emit }) {\n    const loading = ref(true)\n    const loadingError = ref(false)\n\n    const imageStyles = computed(() => ({\n      objectFit: props.contain ? 'contain' as const : 'cover' as const,\n    }))\n\n    const paddingStyles = computed(() => ({\n      paddingBottom: `${1 / props.ratio * 100}%`,\n    }))\n\n    const handleLoad = () => {\n      loading.value = false\n      emit('loaded', props.src)\n    }\n\n    const handleError = (err: Event) => {\n      loadingError.value = true\n      loading.value = false\n      emit('error', err)\n    }\n\n    watch(() => props.src, () => {\n      loading.value = true\n      loadingError.value = false\n    })\n\n    return {\n      loading,\n      loadingError,\n      imageStyles,\n      paddingStyles,\n      handleLoad,\n      handleError,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import \"../../styles/resources\";\n@import \"variables\";\n\n.va-image {\n  overflow: var(--va-image-overflow);\n  position: var(--va-image-position);\n  font-family: var(--va-font-family);\n\n  img {\n    height: 100%;\n    width: 100%;\n  }\n\n  &__img,\n  &__loader,\n  &__error,\n  &__overlay {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n  }\n\n  &__loader,\n  &__error,\n  &__overlay {\n    @include flex-center();\n  }\n}\n</style>\n","import withConfigTransport from '../../services/config-transport/withConfigTransport'\nimport _VaImage from './VaImage.vue'\n\nexport const VaImage = withConfigTransport(_VaImage)\n"],"names":["_openBlock","_createElementBlock","_renderSlot","_createElementVNode","_withDirectives","_vShow","_VaImage"],"mappings":"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"}