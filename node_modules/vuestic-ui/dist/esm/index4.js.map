{"version":3,"file":"index4.js","sources":["../../src/composables/useScroll.ts","../../src/components/va-app-bar/VaAppBar.vue","../../src/components/va-app-bar/VaAppBar.vue?vue&type=template&id=07072507&lang.js","../../src/components/va-app-bar/index.ts"],"sourcesContent":["import { onMounted, onBeforeUnmount, shallowRef } from 'vue'\n\n/** @deprecated */\nfunction getTargetElement (target: HTMLElement | string | undefined) {\n  if (!target) {\n    throw new Error('Cant find target')\n  }\n\n  return typeof target === 'string' ? document.querySelector(target) as HTMLElement : target\n}\n\nexport function setupScroll (target: HTMLElement | string, onScrollCallback: (e: Event) => void) {\n  const scrollRoot = shallowRef<HTMLElement>()\n  let targetElement: HTMLElement | null\n\n  onMounted(() => {\n    targetElement = getTargetElement(target || scrollRoot.value)\n    targetElement?.addEventListener('scroll', onScrollCallback)\n  })\n\n  onBeforeUnmount(() => {\n    targetElement?.removeEventListener('scroll', onScrollCallback)\n  })\n\n  return scrollRoot\n}\n","<template>\n  <header\n    ref=\"scrollRoot\"\n    role=\"toolbar\"\n    :class=\"computedClass\"\n    :style=\"computedStyle\"\n  >\n    <slot />\n  </header>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType, computed, ref } from 'vue'\n\nimport { setupScroll, useColors } from '../../composables'\nimport { getGradientBackground, getBoxShadowColor } from '../../services/color-config/color-functions'\n\nexport default defineComponent({\n  name: 'VaAppBar',\n  props: {\n    gradient: { type: Boolean, default: false },\n    bottom: { type: Boolean, default: false },\n    target: { type: [Object, String] as PropType<string | HTMLElement>, default: '' },\n    hideOnScroll: { type: Boolean, default: false },\n    shadowOnScroll: { type: Boolean, default: false },\n    shadowColor: { type: String, default: '' },\n    color: { type: String, default: undefined },\n    absolute: { type: Boolean, default: false },\n  },\n  setup (props) {\n    const prevScrollPosition = ref(0)\n    const doShowShadow = ref(false)\n    const isHidden = ref(false)\n\n    const scrollRoot = setupScroll(props.target, (e) => {\n      const target = e.target as HTMLElement\n\n      if (prevScrollPosition.value < target.scrollTop) {\n        // Scroll down\n        isHidden.value = !!props.hideOnScroll\n        doShowShadow.value = !!props.shadowOnScroll\n      } else {\n        // Scroll up\n        isHidden.value = false\n        doShowShadow.value = false\n      }\n\n      prevScrollPosition.value = target.scrollTop\n    })\n\n    const { getColor } = useColors()\n\n    const colorComputed = computed(() => getColor(props.color, 'primary'))\n\n    const shadowColorComputed = computed(() => getColor(props.shadowColor, colorComputed.value))\n\n    const computedShadow = computed(() => {\n      const shadow = getBoxShadowColor(props.shadowColor ? shadowColorComputed.value : colorComputed.value)\n      return doShowShadow.value ? `var(--va-app-bar-shadow) ${shadow}` : ''\n    })\n\n    const transformComputed = computed(() => {\n      if (!isHidden.value) { return '' }\n      return props.bottom ? 'translateY(100%)' : 'translateY(-100%)'\n    })\n\n    const computedStyle = computed(() => ({\n      background: props.gradient ? getGradientBackground(colorComputed.value) : colorComputed.value,\n      'box-shadow': computedShadow.value,\n      transform: transformComputed.value,\n      position: props.absolute ? 'absolute' as const : undefined,\n    }))\n\n    const computedClass = computed(() => ({\n      'va-app-bar': true,\n      'va-app-bar--bottom': props.bottom,\n    }))\n\n    return {\n      scrollRoot,\n      computedStyle,\n      computedClass,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import \"variables\";\n\n.va-app-bar {\n  display: flex;\n  align-items: center;\n  position: var(--va-app-bar-position);\n  transition: all 0.5s ease;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: var(--va-app-bar-height);\n  min-height: var(--va-app-bar-height);\n  min-width: 100%;\n  font-family: var(--va-font-family);\n  z-index: var(--va-app-bar-z-index);\n\n  &--bottom {\n    top: 100%;\n    transform: translateY(-100%);\n  }\n}\n</style>\n","<template>\n  <header\n    ref=\"scrollRoot\"\n    role=\"toolbar\"\n    :class=\"computedClass\"\n    :style=\"computedStyle\"\n  >\n    <slot />\n  </header>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType, computed, ref } from 'vue'\n\nimport { setupScroll, useColors } from '../../composables'\nimport { getGradientBackground, getBoxShadowColor } from '../../services/color-config/color-functions'\n\nexport default defineComponent({\n  name: 'VaAppBar',\n  props: {\n    gradient: { type: Boolean, default: false },\n    bottom: { type: Boolean, default: false },\n    target: { type: [Object, String] as PropType<string | HTMLElement>, default: '' },\n    hideOnScroll: { type: Boolean, default: false },\n    shadowOnScroll: { type: Boolean, default: false },\n    shadowColor: { type: String, default: '' },\n    color: { type: String, default: undefined },\n    absolute: { type: Boolean, default: false },\n  },\n  setup (props) {\n    const prevScrollPosition = ref(0)\n    const doShowShadow = ref(false)\n    const isHidden = ref(false)\n\n    const scrollRoot = setupScroll(props.target, (e) => {\n      const target = e.target as HTMLElement\n\n      if (prevScrollPosition.value < target.scrollTop) {\n        // Scroll down\n        isHidden.value = !!props.hideOnScroll\n        doShowShadow.value = !!props.shadowOnScroll\n      } else {\n        // Scroll up\n        isHidden.value = false\n        doShowShadow.value = false\n      }\n\n      prevScrollPosition.value = target.scrollTop\n    })\n\n    const { getColor } = useColors()\n\n    const colorComputed = computed(() => getColor(props.color, 'primary'))\n\n    const shadowColorComputed = computed(() => getColor(props.shadowColor, colorComputed.value))\n\n    const computedShadow = computed(() => {\n      const shadow = getBoxShadowColor(props.shadowColor ? shadowColorComputed.value : colorComputed.value)\n      return doShowShadow.value ? `var(--va-app-bar-shadow) ${shadow}` : ''\n    })\n\n    const transformComputed = computed(() => {\n      if (!isHidden.value) { return '' }\n      return props.bottom ? 'translateY(100%)' : 'translateY(-100%)'\n    })\n\n    const computedStyle = computed(() => ({\n      background: props.gradient ? getGradientBackground(colorComputed.value) : colorComputed.value,\n      'box-shadow': computedShadow.value,\n      transform: transformComputed.value,\n      position: props.absolute ? 'absolute' as const : undefined,\n    }))\n\n    const computedClass = computed(() => ({\n      'va-app-bar': true,\n      'va-app-bar--bottom': props.bottom,\n    }))\n\n    return {\n      scrollRoot,\n      computedStyle,\n      computedClass,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import \"variables\";\n\n.va-app-bar {\n  display: flex;\n  align-items: center;\n  position: var(--va-app-bar-position);\n  transition: all 0.5s ease;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: var(--va-app-bar-height);\n  min-height: var(--va-app-bar-height);\n  min-width: 100%;\n  font-family: var(--va-font-family);\n  z-index: var(--va-app-bar-z-index);\n\n  &--bottom {\n    top: 100%;\n    transform: translateY(-100%);\n  }\n}\n</style>\n","import withConfigTransport from '../../services/config-transport/withConfigTransport'\nimport _VaAppBar from './VaAppBar.vue'\n\nexport const VaAppBar = withConfigTransport(_VaAppBar)\n"],"names":["_createElementBlock","_renderSlot","_VaAppBar"],"mappings":"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"}