{"version":3,"file":"usePopover.js","sources":["../../../../node_modules/lodash/_arrayMap.js","../../../../node_modules/lodash/_baseToString.js","../../../../node_modules/lodash/toString.js","../../src/composables/useClientOnly.ts","../../src/composables/useDomRect.ts","../../src/composables/useRequestAnimationFrame.ts","../../../../node_modules/lodash/_isKey.js","../../../../node_modules/lodash/memoize.js","../../../../node_modules/lodash/_memoizeCapped.js","../../../../node_modules/lodash/_stringToPath.js","../../../../node_modules/lodash/_castPath.js","../../../../node_modules/lodash/_toKey.js","../../../../node_modules/lodash/_baseGet.js","../../../../node_modules/lodash/_baseSet.js","../../../../node_modules/lodash/_basePickBy.js","../../../../node_modules/lodash/_baseHasIn.js","../../../../node_modules/lodash/_hasPath.js","../../../../node_modules/lodash/hasIn.js","../../../../node_modules/lodash/_basePick.js","../../../../node_modules/lodash/_isFlattenable.js","../../../../node_modules/lodash/_baseFlatten.js","../../../../node_modules/lodash/flatten.js","../../../../node_modules/lodash/_flatRest.js","../../../../node_modules/lodash/pick.js","../../src/utils/map-object.ts","../../src/composables/usePopover.ts"],"sourcesContent":["/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","import { onMounted, ref, UnwrapRef } from 'vue'\nimport { isServer } from '../utils/ssr-utils'\n\n/** Returns cb result only on client. Returns null on server  */\nexport const useClientOnly = <T>(cb: () => T) => {\n  if (isServer()) {\n    const result = ref<T | null>(null)\n\n    onMounted(() => { result.value = cb() as UnwrapRef<T> })\n\n    return result\n  }\n\n  return ref(cb())\n}\n","import { Ref, ref, watch } from 'vue'\nimport { useRequestAnimationFrame } from './useRequestAnimationFrame'\n\nconst keys = ['x', 'y', 'width', 'height', 'top', 'left', 'right', 'bottom']\nconst isDomRectEqual = (a: any, b: any) => {\n  for (let i = 0; i < keys.length; i++) {\n    if (a[keys[i]] !== b[keys[i]]) {\n      return false\n    }\n  }\n  return true\n}\n\nexport const useDomRect = (target: Ref<HTMLElement | undefined>) => {\n  const domRect = ref<DOMRect | null>(null)\n\n  let prev = {}\n  useRequestAnimationFrame(() => {\n    if (!target.value) { return }\n    const rect = target.value.getBoundingClientRect()\n    if (!isDomRectEqual(rect, prev)) {\n      domRect.value = rect\n    }\n    prev = rect\n  })\n\n  watch(target, (newVal) => {\n    if (newVal) {\n      domRect.value = newVal.getBoundingClientRect()\n    } else {\n      domRect.value = null\n    }\n  })\n\n  return {\n    domRect,\n  }\n}\n","import { onBeforeUnmount, onMounted } from 'vue'\n\nexport const useRequestAnimationFrame = (cb: () => void) => {\n  let animationFrameRequest = -1\n\n  const observe = () => {\n    animationFrameRequest = requestAnimationFrame(observe)\n    cb()\n  }\n\n  onMounted(() => { observe() })\n  onBeforeUnmount(() => { cancelAnimationFrame(animationFrameRequest) })\n}\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","var assignValue = require('./_assignValue'),\n    castPath = require('./_castPath'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.set`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @param {Function} [customizer] The function to customize path creation.\n * @returns {Object} Returns `object`.\n */\nfunction baseSet(object, path, value, customizer) {\n  if (!isObject(object)) {\n    return object;\n  }\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      lastIndex = length - 1,\n      nested = object;\n\n  while (nested != null && ++index < length) {\n    var key = toKey(path[index]),\n        newValue = value;\n\n    if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n      return object;\n    }\n\n    if (index != lastIndex) {\n      var objValue = nested[key];\n      newValue = customizer ? customizer(objValue, key, nested) : undefined;\n      if (newValue === undefined) {\n        newValue = isObject(objValue)\n          ? objValue\n          : (isIndex(path[index + 1]) ? [] : {});\n      }\n    }\n    assignValue(nested, key, newValue);\n    nested = nested[key];\n  }\n  return object;\n}\n\nmodule.exports = baseSet;\n","var baseGet = require('./_baseGet'),\n    baseSet = require('./_baseSet'),\n    castPath = require('./_castPath');\n\n/**\n * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @param {Function} predicate The function invoked per property.\n * @returns {Object} Returns the new object.\n */\nfunction basePickBy(object, paths, predicate) {\n  var index = -1,\n      length = paths.length,\n      result = {};\n\n  while (++index < length) {\n    var path = paths[index],\n        value = baseGet(object, path);\n\n    if (predicate(value, path)) {\n      baseSet(result, castPath(path, object), value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = basePickBy;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n","var basePickBy = require('./_basePickBy'),\n    hasIn = require('./hasIn');\n\n/**\n * The base implementation of `_.pick` without support for individual\n * property identifiers.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @returns {Object} Returns the new object.\n */\nfunction basePick(object, paths) {\n  return basePickBy(object, paths, function(value, path) {\n    return hasIn(object, path);\n  });\n}\n\nmodule.exports = basePick;\n","var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n","var baseFlatten = require('./_baseFlatten');\n\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\nfunction flatten(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, 1) : [];\n}\n\nmodule.exports = flatten;\n","var flatten = require('./flatten'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * A specialized version of `baseRest` which flattens the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @returns {Function} Returns the new function.\n */\nfunction flatRest(func) {\n  return setToString(overRest(func, undefined, flatten), func + '');\n}\n\nmodule.exports = flatRest;\n","var basePick = require('./_basePick'),\n    flatRest = require('./_flatRest');\n\n/**\n * Creates an object composed of the picked `object` properties.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [paths] The property paths to pick.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pick(object, ['a', 'c']);\n * // => { 'a': 1, 'c': 3 }\n */\nvar pick = flatRest(function(object, paths) {\n  return object == null ? {} : basePick(object, paths);\n});\n\nmodule.exports = pick;\n","export const mapObject = <T, D, K extends string>(o: Record<K, T>, cb: (item: T, key: K) => D) => {\n  const copy = {} as Record<K, D>\n\n  (Object.keys(o) as K[])\n    .forEach((key: K) => {\n      copy[key] = cb(o[key], key)\n    })\n\n  return copy\n}\n","import { computed, Ref, unref, watch } from 'vue'\n\nimport { mapObject } from '../utils/map-object'\nimport { useDomRect } from './useDomRect'\nimport { useClientOnly } from './useClientOnly'\n\nexport type PlacementPosition = 'top' | 'bottom' | 'left' | 'right'\nexport type PlacementAlignment = 'start' | 'end' | 'center'\nexport type Placement = PlacementPosition | 'auto' | `${PlacementPosition}-${PlacementAlignment}`\nexport type Offset = number | [number, number]\n\ntype Coords = { x: number, y: number }\ntype AlignCoords = { main: number, cross: number }\n\nexport const placementsPositions = ['top', 'bottom', 'left', 'right']\n  .reduce((acc, position) => [...acc, position, `${position}-start`, `${position}-end`, `${position}-center`], ['auto'] as string[])\n\nconst coordsToCss = ({ x, y }: Coords) => ({ left: `${x}px`, top: `${y}px` })\n\nconst parsePlacement = (placement: Placement) => {\n  const [position, align] = placement.split('-') as [PlacementPosition, PlacementAlignment | undefined]\n\n  return { position, align: align || 'center' }\n}\n\nconst parseOffset = (offset: Offset): AlignCoords => {\n  return Array.isArray(offset) ? { main: offset[0], cross: offset[1] } : { main: offset, cross: 0 }\n}\n\nconst calculateContentAlignment = (align: PlacementAlignment, anchorStart: number, anchorSize: number, contentSize: number) => {\n  if (align === 'start') { return anchorStart }\n  if (align === 'end') { return anchorStart + anchorSize - contentSize }\n\n  return anchorStart + (anchorSize - contentSize) / 2\n}\n\nconst calculateContentCoords = (placement: Placement, anchor: DOMRect, content: DOMRect) => {\n  const { position, align } = parsePlacement(placement)\n\n  const alignmentX = calculateContentAlignment(align, anchor.left, anchor.width, content.width)\n  const alignmentY = calculateContentAlignment(align, anchor.top, anchor.height, content.height)\n\n  switch (position) {\n    case 'top': return { x: alignmentX, y: anchor.top - content.height }\n    case 'left': return { y: alignmentY, x: anchor.left - content.width }\n    case 'right': return { y: alignmentY, x: anchor.right }\n    case 'bottom':\n    default: return { x: alignmentX, y: anchor.bottom }\n  }\n}\n\nconst calculateOffsetCoords = (placement: Placement, offset: Offset): Coords => {\n  const { position } = parsePlacement(placement)\n  const { main, cross } = parseOffset(offset)\n\n  switch (position) {\n    case 'left': return { y: cross, x: -main }\n    case 'right': return { y: cross, x: main }\n    case 'top': return { y: -main, x: cross }\n    case 'bottom':\n    default: return { y: main, x: cross }\n  }\n}\n\n/** Returns how much content overflow */\nconst calculateContentOverflow = (coords: Coords, content: DOMRect, root: DOMRect) => {\n  const xMax = root.right\n  const yMax = root.bottom\n  const xMin = root.left\n  const yMin = root.top\n\n  return {\n    top: Math.max(yMin - coords.y, 0),\n    bottom: Math.max((coords.y + content.height) - yMax, 0),\n    left: Math.max(xMin - coords.x, 0),\n    right: Math.max((coords.x + content.width) - xMax, 0),\n  }\n}\n\nconst clamp = (min: number, v: number, max: number) => Math.max(Math.min(v, max), min)\n\nconst calculateClipToEdge = (coords: Coords, offsetCoords: Coords, content: DOMRect, anchor: DOMRect, root: DOMRect) => {\n  const { top, bottom, left, right } = calculateContentOverflow(coords, content, root)\n\n  // Add left overflow, sub right overflow so content always stick to edge\n  const x = coords.x - right + left\n  const y = coords.y - bottom + top\n\n  const { x: offsetX, y: offsetY } = offsetCoords\n\n  return {\n    // Clamp content position near anchor, so any content edge should touch anchor edge\n    x: clamp(anchor.left + offsetX - content.width, x, anchor.right + offsetX),\n    y: clamp(anchor.top + offsetY - content.height, y, anchor.bottom + offsetY),\n  }\n}\n\nconst getAutoPlacement = (placement: Placement, coords: Coords, content: DOMRect, root: DOMRect): Placement => {\n  const { position, align } = parsePlacement(placement)\n  const overflow = calculateContentOverflow(coords, content, root)\n\n  const newPlacements = {\n    top: ['bottom', align].join('-') as Placement,\n    bottom: ['top', align].join('-') as Placement,\n    right: ['left', align].join('-') as Placement,\n    left: ['right', align].join('-') as Placement,\n  }\n\n  return overflow[position] ? newPlacements[position] : placement\n}\n\nexport type usePopoverOptions = {\n  keepAnchorWidth?: boolean,\n  autoPlacement?: boolean,\n  stickToEdges?: boolean,\n  placement: Placement,\n  offset?: Offset,\n  /** Root element selector */\n  root?: string\n}\n\n/**\n * Updates `contentRef` css, make it position fixed and moves relative to `anchorRef`\n * @param options make options reactive if you want popover to react on options change.\n */\nexport const usePopover = (\n  anchorRef: Ref<HTMLElement | undefined>,\n  contentRef: Ref<HTMLElement | undefined>,\n  options: usePopoverOptions | Ref<usePopoverOptions>,\n) => {\n  const documentRef = useClientOnly(() => document)\n  const rootRef = computed(() => {\n    if (!documentRef.value) { return undefined }\n\n    const { root } = unref(options)\n\n    if (root) { return documentRef.value.querySelector(root) }\n\n    return documentRef.value.body\n  })\n  const { domRect: anchorDomRect } = useDomRect(anchorRef)\n  const { domRect: contentDomRect } = useDomRect(contentRef)\n\n  const css = {\n    width: 'max-content',\n    position: 'absolute',\n  }\n\n  const updateContentCSS = () => {\n    if (!rootRef.value || !anchorDomRect.value || !contentDomRect.value) { return }\n\n    let offsetCoords: Coords = { x: 0, y: 0 }\n\n    const { placement, keepAnchorWidth, offset, autoPlacement, stickToEdges } = unref(options)\n\n    // calculate coords (x and y) of content left-top corner\n    let coords = calculateContentCoords(placement, anchorDomRect.value, contentDomRect.value)\n\n    if (offset) {\n      offsetCoords = calculateOffsetCoords(placement, offset)\n      coords = mapObject(coords, (c, key) => c + offsetCoords[key])\n    }\n\n    if (keepAnchorWidth) {\n      const { width } = anchorDomRect.value\n      Object.assign(css, { width: `${width}px`, maxWidth: `${width}px` })\n    }\n\n    const rootRect = rootRef.value.getBoundingClientRect()\n\n    if (autoPlacement) {\n      const newPlacement = getAutoPlacement(placement, coords, contentDomRect.value, rootRect)\n      if (newPlacement !== placement) {\n        coords = calculateContentCoords(newPlacement, anchorDomRect.value, contentDomRect.value)\n\n        if (offset) {\n          offsetCoords = calculateOffsetCoords(newPlacement, offset)\n          coords = mapObject(coords, (c, key) => c + offsetCoords[key])\n        }\n      }\n    }\n\n    if (stickToEdges) {\n      coords = calculateClipToEdge(coords, offsetCoords, contentDomRect.value, anchorDomRect.value, rootRect)\n    }\n\n    if (contentRef.value) {\n      Object.assign(contentRef.value.style, {\n        ...css,\n        ...coordsToCss(coords),\n      })\n    }\n  }\n\n  watch(anchorDomRect, updateContentCSS)\n  watch(contentDomRect, updateContentCSS)\n  watch(options, updateContentCSS, { deep: true })\n\n  return {\n    anchorDomRect,\n    contentDomRect,\n  }\n}\n"],"names":["_arrayMap","arrayMap","array","iteratee","index","length","result","Array","require$$1","isArray","require$$2","isSymbol","require$$3","symbolProto","require$$0","prototype","undefined","symbolToString","toString","_baseToString","baseToString","value","call","toString_1","keys","useDomRect","target","domRect","ref","prev","cb","animationFrameRequest","observe","requestAnimationFrame","onMounted","onBeforeUnmount","cancelAnimationFrame","useRequestAnimationFrame","rect","getBoundingClientRect","a","b","i","isDomRectEqual","watch","newVal","reIsDeepProp","reIsPlainProp","_isKey","isKey","object","type","test","Object","MapCache","memoize","func","resolver","TypeError","memoized","args","arguments","key","apply","this","cache","has","get","set","Cache","rePropName","reEscapeChar","stringToPath","memoizeCapped","size","clear","string","charCodeAt","push","replace","match","number","quote","subString","_castPath","castPath","_toKey","toKey","_baseGet","baseGet","path","assignValue","isIndex","isObject","require$$4","baseSet","customizer","lastIndex","nested","newValue","objValue","isArguments","isLength","require$$5","baseHasIn","hasPath","hasFunc","basePickBy","paths","predicate","hasIn","_basePick","basePick","spreadableSymbol","isConcatSpreadable","arrayPush","isFlattenable","_baseFlatten","baseFlatten","depth","isStrict","flatten_1","flatten","overRest","setToString","_flatRest","flatRest","pick_1","mapObject","o","copy","forEach","placementsPositions","reduce","acc","position","coordsToCss","x","y","left","top","parsePlacement","placement","align","split","calculateContentAlignment","anchorStart","anchorSize","contentSize","calculateContentCoords","anchor","content","alignmentX","width","alignmentY","height","right","bottom","calculateOffsetCoords","offset","main","cross","parseOffset","calculateContentOverflow","coords","root","xMax","yMax","xMin","yMin","Math","max","clamp","min","v","usePopover","anchorRef","contentRef","options","documentRef","isServer","useClientOnly","document","rootRef","computed","unref","querySelector","body","anchorDomRect","contentDomRect","css","updateContentCSS","offsetCoords","keepAnchorWidth","autoPlacement","stickToEdges","c","assign","maxWidth","rootRect","newPlacement","overflow","newPlacements","join","getAutoPlacement","offsetX","offsetY","calculateClipToEdge","style","deep"],"mappings":"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"}