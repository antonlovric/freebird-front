import{computed as e}from"vue";import{a,b as l}from"./useStateful.js";import{u}from"./useLoading.js";import{u as t,a as r,b as o}from"./index67.js";import{a as d}from"./useFocus.js";const n={...a,...u,...t,arrayValue:{type:null,default:null},label:{type:String,default:""},leftLabel:{type:Boolean,default:!1},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},indeterminate:{type:Boolean,default:!1},indeterminateValue:{type:null,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1}},s=[...r,"update:modelValue","focus","blur"],useSelectable=(a,u,{input:t,label:r,container:n})=>{(e=>{const a=[e.falseValue,e.trueValue];if(e.indeterminate&&a.push(e.indeterminateValue),new Set(a).size!==a.length)throw new Error("falseValue, trueValue, indeterminateValue props should have strictly different values, which is not the case.")})(a);const reset=()=>u("update:modelValue",!1),focus=()=>{var e;return null===(e=t.value)||void 0===e?void 0:e.focus()},{computedError:s,computedErrorMessages:i,validate:m}=o(a,u,reset,focus),{valueComputed:V}=l(a,u),{isFocused:v}=d(),p=e((()=>!!a.indeterminate&&V.value===a.indeterminateValue)),f=e((()=>null!==a.arrayValue)),c=e((()=>{var e;return f.value?null===(e=a.modelValue)||void 0===e?void 0:e.includes(a.arrayValue):V.value===a.trueValue}));return{isChecked:c,isIndeterminate:p,onBlur:e=>{var a;t.value!==e.target||(a=e.relatedTarget)&&[r.value,n.value].includes(a)||(v.value=!1,s.value=!1,m(),u("blur",e))},onFocus:e=>{v.value=!0,u("focus",e)},toggleSelection:()=>{a.readonly||a.disabled||a.loading||(f.value?a.modelValue?Array.isArray(a.modelValue)?a.modelValue.includes(a.arrayValue)?u("update:modelValue",a.modelValue.filter((e=>e!==a.arrayValue))):u("update:modelValue",a.modelValue.concat(a.arrayValue)):u("update:modelValue",a.modelValue===a.arrayValue?[]:[a.modelValue,a.arrayValue]):u("update:modelValue",[a.arrayValue]):a.indeterminate?p.value?V.value=a.trueValue:c.value?V.value=a.falseValue:V.value=a.indeterminateValue:c.value?V.value=a.falseValue:V.value=a.trueValue)},reset:reset,focus:focus,computedError:s,computedErrorMessages:i}};export{n as a,useSelectable as b,s as u};
//# sourceMappingURL=useSelectable.js.map
