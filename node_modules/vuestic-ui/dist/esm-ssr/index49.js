import{w as e}from"./withConfigTransport.js";import{defineComponent as r,shallowRef as s,computed as a,resolveComponent as l,mergeProps as t,withCtx as o,createVNode as i,toHandlers as n,withKeys as u,withModifiers as c,openBlock as d,createBlock as p,renderSlot as m,createTextVNode as b,toDisplayString as v,createCommentVNode as g}from"vue";import{e as y}from"./usePopover.js";import{g as f}from"./utils.js";import{u as L}from"./useBem.js";import{u as h}from"./useColors.js";import"./global-config.js";import{u as C}from"./useKeyboardOnlyFocus.js";import{u as _,a as k,b as S}from"./useSelectable.js";import{u as $}from"./useTextColor.js";import{VaProgressCircle as w}from"./index43.js";import{s as j}from"./VaMessageListWrapper.js";import{ssrRenderComponent as x,ssrRenderAttrs as I,ssrRenderStyle as z,ssrRenderSlot as B,ssrInterpolate as F,ssrRenderAttr as V}from"@vue/server-renderer";import"./VaConfig.js";import"./isSymbol.js";import"./ssr-utils.js";import"./global-utils.js";import"./_createCompounder.js";import"colortranslator";import"./global-properties.js";import"./useStateful.js";import"./useLoading.js";import"./index67.js";import"./useSyncProp.js";import"./useFocus.js";import"./consts.js";import"./clamp.js";import"./toNumber.js";import"./useSize.js";var K=r({name:"VaSwitch",components:{VaProgressCircle:w,VaMessageListWrapper:j},emits:[..._,"focus","blur","update:modelValue"],props:{...k,id:{type:String,default:""},name:{type:String,default:""},modelValue:{type:[Boolean,Array,String,Object],default:!1},trueLabel:{type:String,default:null},falseLabel:{type:String,default:null},trueInnerLabel:{type:String,default:null},falseInnerLabel:{type:String,default:null},color:{type:String,default:"primary"},offColor:{type:String,default:"gray"},size:{type:String,default:"medium",validator:e=>["medium","small","large"].includes(e)}},setup(e,{emit:r}){const l={container:s(),input:s(),label:s()},{getColor:t}=h(),{hasKeyboardFocus:o,keyboardFocusListeners:i}=C(),{isChecked:n,computedError:u,isIndeterminate:c,computedErrorMessages:d,...p}=S(e,r,l),m=a((()=>t(n.value?e.color:e.offColor))),{textColorComputed:b}=$(m),v=a((()=>e.trueInnerLabel&&n.value?e.trueInnerLabel:e.falseInnerLabel&&!n.value?e.falseInnerLabel:"")),g=a((()=>e.trueLabel&&n.value?e.trueLabel:e.falseLabel&&!n.value?e.falseLabel:e.label)),_=L("va-switch",(()=>({...y(e,["readonly","disabled","leftLabel"]),checked:n.value,indeterminate:c.value,small:"small"===e.size,large:"large"===e.size,error:u.value,onKeyboardFocus:o.value}))),k=a((()=>({lineHeight:d.value.length?1:0}))),w=a((()=>({small:"15px",medium:"20px",large:"25px"}[e.size]))),j=a((()=>({borderColor:e.error?t("danger"):"",backgroundColor:m.value}))),x=a((()=>({color:e.error?t("danger"):""}))),I=a((()=>({color:b.value}))),z=a((()=>`aria-label-id-${f()}`)),B=a((()=>({id:e.id,name:e.name,disabled:e.disabled,readonly:e.readonly,ariaDisabled:e.disabled,ariaReadOnly:e.readonly,ariaChecked:!!e.modelValue,ariaLabelledby:z.value,"aria-invalid":!!d.value.length,"aria-errormessage":"string"==typeof d.value?d.value:d.value.join(", ")})));return{...p,computedErrorMessages:d,isChecked:n,computedError:u,isIndeterminate:c,keyboardFocusListeners:i,computedInnerLabel:v,computedLabel:g,computedClass:_,styleComputed:k,progressCircleSize:w,trackStyle:j,labelStyle:x,trackLabelStyle:I,ariaLabelIdComputed:z,inputAttributesComputed:B}}});K.ssrRender=function ssrRender(e,r,s,a,y,f,L,h){const C=l("VaMessageListWrapper"),_=l("va-progress-circle");r(x(C,t({class:["va-switch",e.computedClass],style:e.styleComputed,disabled:e.$props.disabled,success:e.$props.success,messages:e.$props.messages,error:e.computedError,"error-messages":e.computedErrorMessages,"error-count":e.$props.errorCount},a),{default:o(((r,s,a,l)=>{if(!s)return[i("div",{ref:"container",class:"va-switch__container",tabindex:"-1",onBlur:e.onBlur},[i("div",{class:"va-switch__inner",onClick:e.toggleSelection},[i("input",t({ref:"input",type:"checkbox",class:"va-switch__input",role:"switch"},e.inputAttributesComputed,n(e.keyboardFocusListeners),{onFocus:e.onFocus,onBlur:e.onBlur,onKeypress:u(c(e.toggleSelection,["prevent"]),["enter"])}),null,16,["onFocus","onBlur","onKeypress"]),i("div",{class:"va-switch__track","aria-hidden":"true",style:e.trackStyle},[e.computedInnerLabel||e.$slots.innerLabel?(d(),p("div",{key:0,class:"va-switch__track-label",style:e.trackLabelStyle},[m(e.$slots,"innerLabel",{},(()=>[b(v(e.computedInnerLabel),1)]))],4)):g("v-if",!0),i("div",{class:"va-switch__checker-wrapper"},[i("span",{class:"va-switch__checker"},[e.$props.loading?(d(),p(_,{key:0,indeterminate:"",size:e.progressCircleSize,color:e.trackStyle.backgroundColor},null,8,["size","color"])):g("v-if",!0)])])],4)],8,["onClick"]),e.computedLabel||e.$slots.default?(d(),p("div",{key:0,ref:"label",class:"va-switch__label",style:e.labelStyle,id:e.ariaLabelIdComputed,onBlur:e.onBlur,onClick:e.toggleSelection,onKeydown:u(c(e.toggleSelection,["stop"]),["enter"])},[m(e.$slots,"default",{},(()=>[b(v(e.computedLabel),1)]))],44,["id","onBlur","onClick","onKeydown"])):g("v-if",!0)],40,["onBlur"])];s(`<div class="va-switch__container" tabindex="-1"${l}><div class="va-switch__inner"${l}><input${I(t({ref:"input",type:"checkbox",class:"va-switch__input",role:"switch"},e.inputAttributesComputed))}${l}><div class="va-switch__track" aria-hidden="true" style="${z(e.trackStyle)}"${l}>`),e.computedInnerLabel||e.$slots.innerLabel?(s(`<div class="va-switch__track-label" style="${z(e.trackLabelStyle)}"${l}>`),B(e.$slots,"innerLabel",{},(()=>{s(`${F(e.computedInnerLabel)}`)}),s,a,l),s("</div>")):s("\x3c!----\x3e"),s(`<div class="va-switch__checker-wrapper"${l}><span class="va-switch__checker"${l}>`),e.$props.loading?s(x(_,{indeterminate:"",size:e.progressCircleSize,color:e.trackStyle.backgroundColor},null,a,l)):s("\x3c!----\x3e"),s("</span></div></div></div>"),e.computedLabel||e.$slots.default?(s(`<div class="va-switch__label" style="${z(e.labelStyle)}"${V("id",e.ariaLabelIdComputed)}${l}>`),B(e.$slots,"default",{},(()=>{s(`${F(e.computedLabel)}`)}),s,a,l),s("</div>")):s("\x3c!----\x3e"),s("</div>")})),_:3},s))},K.__file="src/components/va-switch/VaSwitch.vue";const E=e(K);export{E as VaSwitch};
//# sourceMappingURL=index49.js.map
