import{w as e}from"./withConfigTransport.js";import{defineComponent as a,shallowRef as t,ref as o,computed as l,watch as i,nextTick as n,resolveComponent as r,mergeProps as u,withCtx as s,createTextVNode as p,toDisplayString as d,openBlock as c,createBlock as g,createCommentVNode as b,renderSlot as v,Fragment as m,renderList as f,withDirectives as y,withKeys as h,vModelText as $}from"vue";import{_ as k}from"./global-utils.js";import"./global-config.js";import"./usePopover.js";import{u as V}from"./useColors.js";import{u as S,a as x,b as I}from"./useStateful.js";import{u as j}from"./useTextColor.js";import{VaButtonGroup as C}from"./index10.js";import{VaButton as L}from"./index12.js";import{ssrRenderComponent as _,ssrRenderSlot as B,ssrRenderList as P,ssrInterpolate as w,ssrRenderAttr as R,ssrIncludeBooleanAttr as z,ssrRenderStyle as N,ssrRenderClass as U}from"@vue/server-renderer";import"./VaConfig.js";import"./global-properties.js";import"./isSymbol.js";import"./ssr-utils.js";import"colortranslator";import"./VaButton.js";import"./useLoading.js";import"./useRouterLink.js";import"./useSize.js";import"./index31.js";import"./VaIcon.js";import"./index43.js";import"./clamp.js";import"./toNumber.js";var D=a({name:"VaPagination",components:{VaButtonGroup:C,VaButton:L},emits:S,props:{...x,modelValue:{type:Number,default:1},visiblePages:{type:Number,default:0},pages:{type:Number,default:0},disabled:{type:Boolean,default:!1},color:{type:String,default:"primary"},size:{type:String,default:"medium",validator:e=>["medium","small","large"].includes(e)},boundaryLinks:{type:Boolean,default:!0},boundaryNumbers:{type:Boolean,default:!1},directionLinks:{type:Boolean,default:!0},input:{type:Boolean,default:!1},hideOnSinglePage:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},total:{type:Number,default:null},pageSize:{type:Number,default:null},boundaryIconLeft:{type:String,default:"first_page"},boundaryIconRight:{type:String,default:"last_page"},directionIconLeft:{type:String,default:"chevron_left"},directionIconRight:{type:String,default:"chevron_right"}},setup(e,{emit:a}){const r=t(),u=o(""),s=l((()=>!(!e.total&&0!==e.pageSize||!e.pageSize))),{valueComputed:p}=I(e,a),{textColorComputed:d}=j(),c=l({get:()=>s.value?Math.ceil(p.value/e.pageSize)||1:p.value,set:e=>{p.value=e}}),g=l((()=>{const{visiblePages:a,total:t,pageSize:o,boundaryNumbers:l,pages:i}=e;return((e=1,a,t,o=!1)=>{let l=0;if(0===t&&(t=1),a>t&&(a=t),0===a)l=1,a=t;else{const o=a/2;l=e-o<=0||e>t?1:e+o>t?t-a+1:Math.ceil(e-o)}const i=[];for(let e=0;e<a;e++)i.push(l+e);return o&&(1!==l&&i.splice(0,2,1,"..."),i[i.length-1]!==t&&i.splice(-2,2,"...",t)),i})(c.value||1,a,s.value?Math.ceil(t/o):i,l)})),b=l((()=>s.value?Math.ceil(e.total/e.pageSize)||1:e.pages)),v=l((()=>!!e.visiblePages&&b.value>e.visiblePages)),m=l((()=>{const{boundaryLinks:a,boundaryNumbers:t,input:o}=e;return o||v.value&&a&&!t})),f=l((()=>e.input||v.value&&e.directionLinks)),y=l((()=>b.value>1||!e.hideOnSinglePage&&b.value<=1)),onUserInput=a=>{"..."===a||a<1||a>b.value||(c.value=s.value?(a-1)*e.pageSize+1:a)},resetInput=()=>{var e;u.value="",null===(e=r.value)||void 0===e||e.blur()},{getColor:h}=V(),$=l((()=>({cursor:"default",color:h(e.color),opacity:e.disabled?.4:1})));return i([s,()=>e.pages],(()=>{if(k&&s.value&&e.pages)throw new Error("Please, use either `total` and `page-size` props, or `pages`.")})),{currentValue:c,lastPage:b,changeValue:()=>{if(+u.value===c.value&&resetInput(),!u.value.length)return;let e=Number.parseInt(u.value);switch(!0){case e<1:e=1;break;case e>b.value:e=b.value;break;case isNaN(e):e=c.value}onUserInput(e),resetInput()},inputValue:u,showPagination:y,showBoundaryLinks:m,onUserInput:onUserInput,activeButtonStyle:a=>a===c.value?{backgroundColor:h(e.color),color:d.value}:{color:h(e.color)},showDirectionLinks:f,paginationRange:g,focusInput:()=>{u.value=`${c.value}`,n((()=>{var e;return null===(e=r.value)||void 0===e?void 0:e.setSelectionRange(0,r.value.value.length)}))},inputStyleComputed:$}}});D.ssrRender=function ssrRender(e,a,t,o,l,i,n,k){const V=r("va-button-group"),S=r("va-button");e.showPagination?a(_(V,u({class:"va-pagination",flat:e.$props.flat,size:e.$props.size,color:e.$props.color,outline:""},o),{default:s(((a,t,o,l)=>{if(!t)return[e.showBoundaryLinks?(c(),g(S,{key:0,"aria-label":"go first page",disabled:e.$props.disabled||1===e.currentValue,icon:e.$props.boundaryIconLeft,onClick:a=>e.onUserInput(1)},null,8,["disabled","icon","onClick"])):b("v-if",!0),e.showDirectionLinks?(c(),g(S,{key:1,"aria-label":"go prev page",outline:"",disabled:e.$props.disabled||1===e.currentValue,icon:e.$props.directionIconLeft,onClick:a=>e.onUserInput(e.currentValue-1)},null,8,["disabled","icon","onClick"])):b("v-if",!0),e.$props.input?y((c(),g("input",{key:3,ref:"htmlInput",class:["va-pagination__input va-button",{"va-pagination__input--flat":e.$props.flat}],"aria-label":"enter the page number to go","onUpdate:modelValue":a=>e.inputValue=a,disabled:e.$props.disabled,placeholder:`${e.currentValue}/${e.lastPage}`,style:e.inputStyleComputed,onKeydown:h(e.changeValue,["enter"]),onFocus:e.focusInput,onBlur:e.changeValue},null,46,["onUpdate:modelValue","disabled","placeholder","onKeydown","onFocus","onBlur"])),[[$,e.inputValue]]):v(e.$slots,"default",{key:2},(()=>[(c(!0),g(m,null,f(e.paginationRange,((a,t)=>(c(),g(S,{key:t,class:["va-pagination__numeric-button",{"va-button--ellipsis":"..."===a}],outline:"","aria-label":`go to ${a} page`,"aria-current":a===e.currentValue,style:e.activeButtonStyle(a),disabled:e.$props.disabled||"..."===a,onClick:t=>e.onUserInput(a)},{default:s((()=>[p(d(a),1)])),_:2},1032,["aria-label","aria-current","style","disabled","class","onClick"])))),128))])),e.showDirectionLinks?(c(),g(S,{key:4,"aria-label":"go next page",outline:"",disabled:e.$props.disabled||e.currentValue===e.lastPage,icon:e.$props.directionIconRight,onClick:a=>e.onUserInput(e.currentValue+1)},null,8,["disabled","icon","onClick"])):b("v-if",!0),e.showBoundaryLinks?(c(),g(S,{key:5,"aria-label":"go last page",outline:"",disabled:e.$props.disabled||e.currentValue===e.lastPage,icon:e.$props.boundaryIconRight,onClick:a=>e.onUserInput(e.lastPage)},null,8,["disabled","icon","onClick"])):b("v-if",!0)];e.showBoundaryLinks?t(_(S,{"aria-label":"go first page",disabled:e.$props.disabled||1===e.currentValue,icon:e.$props.boundaryIconLeft},null,o,l)):t("\x3c!----\x3e"),e.showDirectionLinks?t(_(S,{"aria-label":"go prev page",outline:"",disabled:e.$props.disabled||1===e.currentValue,icon:e.$props.directionIconLeft},null,o,l)):t("\x3c!----\x3e"),e.$props.input?t(`<input aria-label="enter the page number to go"${R("value",e.inputValue)}${z(e.$props.disabled)?" disabled":""}${R("placeholder",`${e.currentValue}/${e.lastPage}`)} style="${N(e.inputStyleComputed)}" class="${U([{"va-pagination__input--flat":e.$props.flat},"va-pagination__input va-button"])}"${l}>`):B(e.$slots,"default",{},(()=>{t("\x3c!--[--\x3e"),P(e.paginationRange,((a,i)=>{t(_(S,{key:i,class:["va-pagination__numeric-button",{"va-button--ellipsis":"..."===a}],outline:"","aria-label":`go to ${a} page`,"aria-current":a===e.currentValue,style:e.activeButtonStyle(a),disabled:e.$props.disabled||"..."===a},{default:s(((e,t,o,l)=>{if(!t)return[p(d(a),1)];t(`${w(a)}`)})),_:2},o,l))})),t("\x3c!--]--\x3e")}),t,o,l),e.showDirectionLinks?t(_(S,{"aria-label":"go next page",outline:"",disabled:e.$props.disabled||e.currentValue===e.lastPage,icon:e.$props.directionIconRight},null,o,l)):t("\x3c!----\x3e"),e.showBoundaryLinks?t(_(S,{"aria-label":"go last page",outline:"",disabled:e.$props.disabled||e.currentValue===e.lastPage,icon:e.$props.boundaryIconRight},null,o,l)):t("\x3c!----\x3e")})),_:3},t)):a("\x3c!----\x3e")},D.__file="src/components/va-pagination/VaPagination.vue";const M=e(D);export{M as VaPagination};
//# sourceMappingURL=index39.js.map
