import{w as e}from"./withConfigTransport.js";import{ref as a,watch as t,onMounted as l,onBeforeUnmount as o,unref as i,defineComponent as s,shallowRef as n,reactive as r,computed as u,provide as v,resolveComponent as d,mergeProps as c,withCtx as b,createVNode as p,renderSlot as m,inject as f,resolveDynamicComponent as g,toHandlers as h,withKeys as _,openBlock as y,createBlock as S,createCommentVNode as C,toDisplayString as T}from"vue";import"./global-config.js";import"./usePopover.js";import"./global-utils.js";import{u as x}from"./useColors.js";import{a as P,b as k}from"./useStateful.js";import{VaButton as $}from"./index12.js";import{V as w}from"./VaConfig.js";import{ssrRenderAttrs as j,ssrRenderAttr as V,ssrRenderComponent as L,ssrRenderClass as A,ssrRenderStyle as F,ssrRenderSlot as R,ssrRenderVNode as B,ssrInterpolate as I}from"@vue/server-renderer";import{u as K}from"./useKeyboardOnlyFocus.js";import{u as z,a as E}from"./useRouterLink.js";import{VaIcon as X}from"./index31.js";import"./global-properties.js";import"./isSymbol.js";import"./ssr-utils.js";import"colortranslator";import"./VaButton.js";import"./useLoading.js";import"./useSize.js";import"./useTextColor.js";import"./index43.js";import"./clamp.js";import"./toNumber.js";import"./VaIcon.js";const D=Symbol("TabsView"),M=Symbol("Tab"),getClientWidth=e=>(null==e?void 0:e.clientWidth)||0;var O=s({name:"VaTabs",components:{VaButton:$,VaConfig:w},emits:["update:modelValue","click:next","click:prev"],props:{...P,modelValue:{type:[String,Number],default:null},left:{type:Boolean,default:!0},right:{type:Boolean,default:!1},center:{type:Boolean,default:!1},grow:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},hideSlider:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},color:{type:String,default:"primary"},prevIcon:{type:String,default:"chevron_left"},nextIcon:{type:String,default:"chevron_right"}},setup:(e,{emit:s})=>{const d=n(),c=n(),b=n(),p=a([]),m=a(null),f=a(null),g=a(0),h=a(0),_=a(!1),y=a(0),S=a(0),C=a(!1),{valueComputed:T}=k(e,s),P=r({VaTab:{color:e.color}}),$=u((()=>{const{left:a,right:t,center:l,grow:o,disabled:i}=e;return{"va-tabs__container--left":a&&!t&&!l&&!o,"va-tabs__container--right":t,"va-tabs__container--center":l,"va-tabs__container--grow":o,"va-tabs__container--disabled":i}})),w=u((()=>({"va-tabs--vertical":e.vertical}))),{getColor:j}=x(),V=u((()=>j(e.color))),L=u((()=>e.hideSlider?{display:"none"}:{backgroundColor:V.value,height:e.vertical?`${m.value}px`:"",width:e.vertical?"":`${f.value}px`,transform:`translateY(-${h.value}px) translateX(${g.value}px)`,transition:C.value?"var(--va-tabs-slider-wrapper-transition)":""})),A=u((()=>e.vertical?{transform:"translateX(0px)"}:{transform:`translateX(${S.value-y.value}px)`,transition:C.value?"var(--va-tabs-slider-transition)":""})),F=u((()=>0===y.value)),R=u((()=>{const e=p.value[p.value.length-1],a=i(e.leftSidePosition),t=i(e.rightSidePosition),l=getClientWidth(c.value);return t<=y.value+l||a<=y.value})),resetSliderSizes=()=>{f.value=0,m.value=0},moveToTab=e=>{const a=getClientWidth(c.value),t=getClientWidth(b.value),l=i(e.leftSidePosition),o=i(e.rightSidePosition);_.value&&l+a<=t?y.value=l:_.value&&o>=a?y.value=o-a:y.value=0},updateStartingXPoint=()=>{if(S.value=0,!_.value)return;const a=getClientWidth(c.value),t=getClientWidth(b.value);e.right?S.value=t-a:e.center&&(S.value=Math.floor((t-a)/2))},updateTabsState=()=>{resetSliderSizes(),p.value.forEach((e=>{var a;e.updateSidePositions();const t=((null===(a=e.name)||void 0===a?void 0:a.value)||e.id)===T.value;e.isActive=e.isActiveRouterLink||t,e.isActive&&(moveToTab(e),updateSlider(e))}));const e=getClientWidth(c.value),a=getClientWidth(b.value);y.value+e>a&&p.value&&moveToTab(p.value[0]),updateStartingXPoint()},updatePagination=()=>{const e=getClientWidth(b.value),a=getClientWidth(d.value);_.value=!!(b.value&&d.value&&e>a)},updateSlider=a=>{var t;const l=i(a.tabElement),o=(null==l?void 0:l.offsetTop)||0,s=(null==l?void 0:l.offsetLeft)||0,n=(null==l?void 0:l.clientHeight)||0,r=(null==l?void 0:l.clientWidth)||0;if(e.vertical){const e=((null===(t=c.value)||void 0===t?void 0:t.clientHeight)||0)-o-n;h.value=Math.max(e,0),m.value=n,g.value=0,f.value=0}else g.value=s,f.value=r,h.value=0,m.value=0},includeAnimation=()=>{C.value||requestAnimationFrame((()=>{C.value=!0}))},redrawTabs=()=>{const e=_.value;updatePagination(),e===_.value?(updateTabsState(),includeAnimation()):requestAnimationFrame((()=>{updateTabsState(),includeAnimation()}))},selectTab=a=>{var t;a&&(T.value=(null===(t=a.name)||void 0===t?void 0:t.value)||a.id,e.stateful&&updateTabsState())};return v(D,{parentDisabled:e.disabled,selectTab:selectTab,moveToTab:moveToTab,registerTab:e=>{var a;const t=p.value.push(e)-1;e.id=(null===(a=e.name)||void 0===a?void 0:a.value)||t},unregisterTab:e=>{p.value=p.value.filter((a=>a.id!==e.id)),p.value.forEach(((e,a)=>{var t;e.id=(null===(t=e.name)||void 0===t?void 0:t.value)||a}))}}),t((()=>e.modelValue),updateTabsState),((e,s)=>{const n=a(),observeAll=e=>{e.forEach((e=>{var a;const t=i(e);t&&(null===(a=n.value)||void 0===a||a.observe(t))}))};t(e,(e=>{var a;null===(a=n.value)||void 0===a||a.disconnect(),observeAll(e)})),l((()=>{n.value=new ResizeObserver(s),observeAll(e)})),o((()=>{var e;return null===(e=n.value)||void 0===e?void 0:e.disconnect()}))})([d,b],redrawTabs),{wrapper:d,container:c,tabs:b,tabsList:p,sliderHeight:m,sliderWidth:f,sliderOffsetX:g,sliderOffsetY:h,showPagination:_,tabsContentOffset:y,startingXPoint:S,animationIncluded:C,colorComputed:V,tabConfig:P,computedClass:$,computedTabsClass:w,tabSelected:T,sliderStyles:L,paginationControlledStyles:A,disablePaginationLeft:F,disablePaginationRight:R,resetSliderSizes:resetSliderSizes,moveToTab:moveToTab,updateStartingXPoint:updateStartingXPoint,updateTabsState:updateTabsState,updatePagination:updatePagination,movePaginationLeft:()=>{var e,a;const t=getClientWidth(c.value);let l=y.value-t;if(p.value)for(let t=0;t<p.value.length-1;t++){const o=i(null===(e=p.value[t])||void 0===e?void 0:e.leftSidePosition),s=i(null===(a=p.value[t+1])||void 0===a?void 0:a.leftSidePosition);if(o>l&&o<y.value||s>=y.value){l=o;break}}y.value=Math.max(0,l),s("click:prev")},movePaginationRight:()=>{var e;const a=getClientWidth(c.value),t=y.value+a;let l=t;if(p.value)for(let e=0;e<p.value.length-1;e++){if(i(p.value[e].rightSidePosition)>t&&(l=i(p.value[e].leftSidePosition),y.value<l))break}const o=i(null===(e=p.value[p.value.length-1])||void 0===e?void 0:e.rightSidePosition)-a;l=Math.min(o,l),y.value=Math.max(0,l),s("click:next")},updateSlider:updateSlider,includeAnimation:includeAnimation,redrawTabs:redrawTabs,selectTab:selectTab}}});O.ssrRender=function ssrRender$1(e,a,t,l,o,i,s,n){const r=d("va-button"),u=d("va-config");a(`<div${j(c({class:["va-tabs",e.computedTabsClass]},l))}><div class="va-tabs__wrapper" role="tablist"${V("aria-disabled",e.$props.disabled)}>`),e.showPagination?a(L(r,{class:"va-tabs__pagination","aria-label":"move pagination left",size:"medium",disabled:e.disablePaginationLeft,color:e.color,flat:"",icon:e.$props.prevIcon},null,t)):a("\x3c!----\x3e"),a(`<div class="${A([e.computedClass,"va-tabs__container"])}"><div class="va-tabs__tabs" style="${F(e.paginationControlledStyles)}"><div class="va-tabs__slider-wrapper" aria-hidden="true" style="${F(e.sliderStyles)}"><div class="va-tabs__slider"></div></div>`),a(L(u,{components:e.tabConfig},{default:b(((a,t,l,o)=>{if(!t)return[p("div",{class:"va-tabs__tabs-items"},[m(e.$slots,"tabs")])];t(`<div class="va-tabs__tabs-items"${o}>`),R(e.$slots,"tabs",{},null,t,l,o),t("</div>")})),_:3},t)),a("</div></div>"),e.showPagination?a(L(r,{class:"va-tabs__pagination","aria-label":"move pagination right",size:"medium",color:e.color,disabled:e.disablePaginationRight,flat:"",icon:e.$props.nextIcon},null,t)):a("\x3c!----\x3e"),a('</div><div class="va-tabs__content">'),R(e.$slots,"default",{},null,a,t),a("</div></div>")},O.__file="src/components/va-tabs/VaTabs.vue";var H=s({name:"VaTab",components:{VaIcon:X},emits:["click","keydown-enter","focus"],props:{...z,selected:{type:Boolean,default:!1},color:{type:String,default:""},icon:{type:String,default:""},label:{type:String,default:""},disabled:{type:Boolean},name:{type:[String,Number]},tag:{type:String,default:"div"}},setup:(e,{emit:t})=>{const i=n(),s=a(!1),r=a(!1),v=a(0),d=a(0),{hasKeyboardFocus:c,keyboardFocusListeners:b}=K(),{tagComputed:p,hrefComputed:m,isActiveRouterLink:g}=E(e),h=u((()=>({"va-tab--disabled":e.disabled}))),{parentDisabled:_,selectTab:y,moveToTab:S,registerTab:C,unregisterTab:T}=f(D,{parentDisabled:!1,tabsList:[],selectTab:e=>e,moveToTab:e=>e,registerTab:e=>e,unregisterTab:e=>e}),P=u((()=>e.disabled||_?-1:0)),{getColor:k}=x(),$=u((()=>k(e.color))),w=u((()=>({color:c.value||r.value||s.value?$.value:"inherit"}))),updateSidePositions=()=>{var e,a;const t=(null===(e=i.value)||void 0===e?void 0:e.offsetLeft)||0,l=(null===(a=i.value)||void 0===a?void 0:a.offsetWidth)||0;v.value=t+l,d.value=t},onTabClick=()=>{y(j),t("click")},onTabKeydown=()=>{y(j),t("keydown-enter")},onFocus=()=>{c.value&&S(j),t("focus")},j={name:u((()=>e.name)),id:null,tabElement:i,isActive:s,tabIndexComputed:P,isActiveRouterLink:g,rightSidePosition:v,leftSidePosition:d,onTabClick:onTabClick,onTabKeydown:onTabKeydown,onFocus:onFocus,updateSidePositions:updateSidePositions};return l((()=>{C(j)})),o((()=>{T(j)})),{tabElement:i,parentDisabled:_,isActive:s,hoverState:r,hasKeyboardFocus:c,keyboardFocusListeners:b,tagComputed:p,hrefComputed:m,isActiveRouterLink:g,colorComputed:$,classComputed:h,computedStyle:w,tabIndexComputed:P,rightSidePosition:v,leftSidePosition:d,updateHoverState:e=>{r.value=e},updateSidePositions:updateSidePositions,onTabClick:onTabClick,onTabKeydown:onTabKeydown,onFocus:onFocus}}});H.ssrRender=function ssrRender(e,a,t,l,o,i,s,n){const r=d("va-icon");B(a,p(g(e.tagComputed),c({ref:"tabElement",class:["va-tab",e.classComputed],role:"tab","aria-selected":e.isActive,"aria-disabled":e.$props.disabled||e.parentDisabled,href:e.hrefComputed,target:e.target,to:e.to,replace:e.replace,exact:e.exact,"active-class":e.activeClass,"exact-active-class":e.exactActiveClass,style:e.computedStyle},l),{default:b(((a,t,l,o)=>{if(!t)return[p("div",c({class:"va-tab__content"},h(e.keyboardFocusListeners),{tabindex:e.tabIndexComputed,onFocus:e.onFocus,onClick:e.onTabClick,onKeydown:_(e.onTabKeydown,["enter"])}),[m(e.$slots,"default",{},(()=>[e.icon?(y(),S(r,{key:0,class:"va-tab__icon",size:"small",name:e.icon},null,8,["name"])):C("v-if",!0),p("span",{class:"va-tab__label",textContent:T(e.label)},null,8,["textContent"])]))],16,["tabindex","onFocus","onClick","onKeydown"])];t(`<div class="va-tab__content"${V("tabindex",e.tabIndexComputed)}${o}>`),R(e.$slots,"default",{},(()=>{e.icon?t(L(r,{class:"va-tab__icon",size:"small",name:e.icon},null,l,o)):t("\x3c!----\x3e"),t(`<span class="va-tab__label"${o}>${I(e.label)}</span>`)}),t,l,o),t("</div>")})),_:3}),t)},H.__file="src/components/va-tabs/components/VaTab/VaTab.vue";const W=e(H),N=e(O);export{M as TabKey,D as TabsViewKey,W as VaTab,N as VaTabs};
//# sourceMappingURL=index50.js.map
