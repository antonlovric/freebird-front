import{w as e}from"./withConfigTransport.js";import{defineComponent as o,shallowRef as a,computed as l,resolveComponent as t,mergeProps as s}from"vue";import"./global-config.js";import"./usePopover.js";import"./global-utils.js";import{u as r}from"./useColors.js";import{u as d}from"./useKeyboardOnlyFocus.js";import{u as i}from"./useSyncProp.js";import{g as u}from"./utils.js";import{u as n}from"./useTextColor.js";import{a as c}from"./useAccordion.js";import{VaIcon as p}from"./index31.js";import{ssrRenderAttrs as m,ssrRenderSlot as v,ssrRenderComponent as b,ssrInterpolate as f,ssrRenderStyle as h,ssrRenderAttr as y}from"@vue/server-renderer";import"./VaConfig.js";import"./global-properties.js";import"./isSymbol.js";import"./ssr-utils.js";import"colortranslator";import"./VaIcon.js";import"./useSize.js";var g=o({name:"VaCollapse",components:{VaIcon:p},props:{modelValue:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},header:{type:String,default:""},icon:{type:String,default:""},solid:{type:Boolean,default:!1},color:{type:String,default:"background"},textColor:{type:String,default:""},colorAll:{type:Boolean,default:!1}},emits:["focus","update:modelValue"],setup(e,{emit:o,slots:t}){const s=a(),[p]=i("modelValue",e,o,!1),{getColor:m,getHoverColor:v}=r(),{accordionProps:b,toggle:f}=c(p),{textColorComputed:h}=n(),getNodeHeight=e=>"#text"===e.nodeName?(e=>{const o=document.createRange();o.selectNodeContents(e);const a=o.getBoundingClientRect();return a.bottom-a.top})(e):"#comment"===e.nodeName?0:e.clientHeight,y=l((()=>{if(!p.value||!s.value)return 0;return Array.from(s.value.childNodes).reduce(((e,o)=>e+getNodeHeight(o)),0)})),{hasKeyboardFocus:g,keyboardFocusListeners:C}=d(),getTransition=()=>{const e=y.value/1e3*.2;return`${e>.2?e:.2}s`},_=l(u),x=l((()=>`header-${_.value}`)),j=l((()=>`panel-${_.value}`)),$=l((()=>e.disabled?-1:0)),S=l((()=>({id:x.value,tabindex:$.value,"aria-controls":j.value,"aria-expanded":p.value,"aria-disabled":e.disabled,role:"button"})));return{body:s,height:y,toggle:f,computedModelValue:p,hasKeyboardFocus:g,keyboardFocusListeners:C,textColorComputed:h,headerIdComputed:x,headerAttributes:S,panelIdComputed:j,tabIndexComputed:$,computedClasses:l((()=>({"va-collapse--expanded":p.value,"va-collapse--disabled":e.disabled,"va-collapse--solid":e.solid,"va-collapse--active":e.solid&&p.value,"va-collapse--popout":b.value.popout&&p.value,"va-collapse--inset":b.value.inset&&p.value}))),headerStyle:l((()=>({paddingLeft:e.icon&&0,color:h.value,backgroundColor:e.color?m(e.color):""}))),contentStyle:l((()=>{var o;const a=p.value&&!!(null===(o=t.default)||void 0===o?void 0:o.call(t)[0]);return{visibility:a?"visible":"hidden",height:`${y.value}px`,transitionDuration:getTransition(),background:a&&e.color&&e.colorAll?v(m(e.color)):""}}))}}});g.ssrRender=function ssrRender(e,o,a,l,r,d,i,u){const n=t("va-icon");o(`<div${m(s({class:["va-collapse",e.computedClasses]},l))}><div class="va-collapse__header-wrapper">`),v(e.$slots,"header",{value:e.computedModelValue,hasKeyboardFocus:e.hasKeyboardFocus,bind:e.headerAttributes,attributes:e.headerAttributes},(()=>{o(`<div${m(s(e.headerAttributes,{class:"va-collapse__header",style:e.headerStyle}))}>`),e.icon?o(b(n,{class:"va-collapse__header__icon",name:e.icon,color:e.textColorComputed},null,a)):o("\x3c!----\x3e"),o(`<div class="va-collapse__header__text">${f(e.header)}</div>`),o(b(n,{class:"va-collapse__header__icon",name:e.computedModelValue?"expand_less":"expand_more",color:e.textColorComputed},null,a)),o("</div>")}),o,a),o(`</div><div class="va-collapse__body" role="region" style="${h(e.contentStyle)}"${y("id",e.panelIdComputed)}${y("aria-labelledby",e.headerIdComputed)}>`),v(e.$slots,"default",{},null,o,a),o("</div></div>")},g.__file="src/components/va-collapse/VaCollapse.vue";const C=e(g);export{C as VaCollapse};
//# sourceMappingURL=index17.js.map
