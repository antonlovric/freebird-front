import{w as e}from"./withConfigTransport.mjs";import{ref as a,watch as t,onMounted as o,onBeforeUnmount as l,unref as i,defineComponent as n,shallowRef as s,reactive as r,computed as u,provide as v,resolveComponent as d,openBlock as c,createElementBlock as m,normalizeClass as p,createElementVNode as b,createBlock as f,createCommentVNode as g,normalizeStyle as h,createVNode as y,withCtx as S,renderSlot as C,inject as _,resolveDynamicComponent as T,mergeProps as k,toHandlers as x,withKeys as P,toDisplayString as w}from"vue";import"./global-config.mjs";import"./usePopover.mjs";import"./global-utils.mjs";import{u as j}from"./useColors.mjs";import{a as L,b as V}from"./useStateful.mjs";import{VaButton as A}from"./index12.mjs";import{V as F}from"./VaConfig.mjs";import{u as $}from"./useKeyboardOnlyFocus.mjs";import{u as B,a as I}from"./useRouterLink.mjs";import{VaIcon as R}from"./index31.mjs";import"./global-properties.mjs";import"./isSymbol.mjs";import"./ssr-utils.mjs";import"colortranslator";import"./VaButton.mjs";import"./useLoading.mjs";import"./useSize.mjs";import"./useTextColor.mjs";import"./index43.mjs";import"./clamp.mjs";import"./toNumber.mjs";import"./VaIcon.mjs";const K=Symbol("TabsView"),E=Symbol("Tab"),getClientWidth=e=>(null==e?void 0:e.clientWidth)||0;var M=n({name:"VaTabs",components:{VaButton:A,VaConfig:F},emits:["update:modelValue","click:next","click:prev"],props:{...L,modelValue:{type:[String,Number],default:null},left:{type:Boolean,default:!0},right:{type:Boolean,default:!1},center:{type:Boolean,default:!1},grow:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},hideSlider:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},color:{type:String,default:"primary"},prevIcon:{type:String,default:"chevron_left"},nextIcon:{type:String,default:"chevron_right"}},setup:(e,{emit:n})=>{const d=s(),c=s(),m=s(),p=a([]),b=a(null),f=a(null),g=a(0),h=a(0),y=a(!1),S=a(0),C=a(0),_=a(!1),{valueComputed:T}=V(e,n),k=r({VaTab:{color:e.color}}),x=u((()=>{const{left:a,right:t,center:o,grow:l,disabled:i}=e;return{"va-tabs__container--left":a&&!t&&!o&&!l,"va-tabs__container--right":t,"va-tabs__container--center":o,"va-tabs__container--grow":l,"va-tabs__container--disabled":i}})),P=u((()=>({"va-tabs--vertical":e.vertical}))),{getColor:w}=j(),L=u((()=>w(e.color))),A=u((()=>e.hideSlider?{display:"none"}:{backgroundColor:L.value,height:e.vertical?`${b.value}px`:"",width:e.vertical?"":`${f.value}px`,transform:`translateY(-${h.value}px) translateX(${g.value}px)`,transition:_.value?"var(--va-tabs-slider-wrapper-transition)":""})),F=u((()=>e.vertical?{transform:"translateX(0px)"}:{transform:`translateX(${C.value-S.value}px)`,transition:_.value?"var(--va-tabs-slider-transition)":""})),$=u((()=>0===S.value)),B=u((()=>{const e=p.value[p.value.length-1],a=i(e.leftSidePosition),t=i(e.rightSidePosition),o=getClientWidth(c.value);return t<=S.value+o||a<=S.value})),resetSliderSizes=()=>{f.value=0,b.value=0},moveToTab=e=>{const a=getClientWidth(c.value),t=getClientWidth(m.value),o=i(e.leftSidePosition),l=i(e.rightSidePosition);y.value&&o+a<=t?S.value=o:y.value&&l>=a?S.value=l-a:S.value=0},updateStartingXPoint=()=>{if(C.value=0,!y.value)return;const a=getClientWidth(c.value),t=getClientWidth(m.value);e.right?C.value=t-a:e.center&&(C.value=Math.floor((t-a)/2))},updateTabsState=()=>{resetSliderSizes(),p.value.forEach((e=>{var a;e.updateSidePositions();const t=((null===(a=e.name)||void 0===a?void 0:a.value)||e.id)===T.value;e.isActive=e.isActiveRouterLink||t,e.isActive&&(moveToTab(e),updateSlider(e))}));const e=getClientWidth(c.value),a=getClientWidth(m.value);S.value+e>a&&p.value&&moveToTab(p.value[0]),updateStartingXPoint()},updatePagination=()=>{const e=getClientWidth(m.value),a=getClientWidth(d.value);y.value=!!(m.value&&d.value&&e>a)},updateSlider=a=>{var t;const o=i(a.tabElement),l=(null==o?void 0:o.offsetTop)||0,n=(null==o?void 0:o.offsetLeft)||0,s=(null==o?void 0:o.clientHeight)||0,r=(null==o?void 0:o.clientWidth)||0;if(e.vertical){const e=((null===(t=c.value)||void 0===t?void 0:t.clientHeight)||0)-l-s;h.value=Math.max(e,0),b.value=s,g.value=0,f.value=0}else g.value=n,f.value=r,h.value=0,b.value=0},includeAnimation=()=>{_.value||requestAnimationFrame((()=>{_.value=!0}))},redrawTabs=()=>{const e=y.value;updatePagination(),e===y.value?(updateTabsState(),includeAnimation()):requestAnimationFrame((()=>{updateTabsState(),includeAnimation()}))},selectTab=a=>{var t;a&&(T.value=(null===(t=a.name)||void 0===t?void 0:t.value)||a.id,e.stateful&&updateTabsState())};return v(K,{parentDisabled:e.disabled,selectTab:selectTab,moveToTab:moveToTab,registerTab:e=>{var a;const t=p.value.push(e)-1;e.id=(null===(a=e.name)||void 0===a?void 0:a.value)||t},unregisterTab:e=>{p.value=p.value.filter((a=>a.id!==e.id)),p.value.forEach(((e,a)=>{var t;e.id=(null===(t=e.name)||void 0===t?void 0:t.value)||a}))}}),t((()=>e.modelValue),updateTabsState),((e,n)=>{const s=a(),observeAll=e=>{e.forEach((e=>{var a;const t=i(e);t&&(null===(a=s.value)||void 0===a||a.observe(t))}))};t(e,(e=>{var a;null===(a=s.value)||void 0===a||a.disconnect(),observeAll(e)})),o((()=>{s.value=new ResizeObserver(n),observeAll(e)})),l((()=>{var e;return null===(e=s.value)||void 0===e?void 0:e.disconnect()}))})([d,m],redrawTabs),{wrapper:d,container:c,tabs:m,tabsList:p,sliderHeight:b,sliderWidth:f,sliderOffsetX:g,sliderOffsetY:h,showPagination:y,tabsContentOffset:S,startingXPoint:C,animationIncluded:_,colorComputed:L,tabConfig:k,computedClass:x,computedTabsClass:P,tabSelected:T,sliderStyles:A,paginationControlledStyles:F,disablePaginationLeft:$,disablePaginationRight:B,resetSliderSizes:resetSliderSizes,moveToTab:moveToTab,updateStartingXPoint:updateStartingXPoint,updateTabsState:updateTabsState,updatePagination:updatePagination,movePaginationLeft:()=>{var e,a;const t=getClientWidth(c.value);let o=S.value-t;if(p.value)for(let t=0;t<p.value.length-1;t++){const l=i(null===(e=p.value[t])||void 0===e?void 0:e.leftSidePosition),n=i(null===(a=p.value[t+1])||void 0===a?void 0:a.leftSidePosition);if(l>o&&l<S.value||n>=S.value){o=l;break}}S.value=Math.max(0,o),n("click:prev")},movePaginationRight:()=>{var e;const a=getClientWidth(c.value),t=S.value+a;let o=t;if(p.value)for(let e=0;e<p.value.length-1;e++){if(i(p.value[e].rightSidePosition)>t&&(o=i(p.value[e].leftSidePosition),S.value<o))break}const l=i(null===(e=p.value[p.value.length-1])||void 0===e?void 0:e.rightSidePosition)-a;o=Math.min(l,o),S.value=Math.max(0,o),n("click:next")},updateSlider:updateSlider,includeAnimation:includeAnimation,redrawTabs:redrawTabs,selectTab:selectTab}}});const z=["aria-disabled"],H=[b("div",{class:"va-tabs__slider"},null,-1)],X={class:"va-tabs__tabs-items"},D={class:"va-tabs__content"};M.render=function render$1(e,a,t,o,l,i){const n=d("va-button"),s=d("va-config");return c(),m("div",{class:p(["va-tabs",e.computedTabsClass])},[b("div",{ref:"wrapper",class:"va-tabs__wrapper",role:"tablist","aria-disabled":e.$props.disabled},[e.showPagination?(c(),f(n,{key:0,class:"va-tabs__pagination","aria-label":"move pagination left",size:"medium",disabled:e.disablePaginationLeft,color:e.color,flat:"",icon:e.$props.prevIcon,onClick:e.movePaginationLeft},null,8,["disabled","color","icon","onClick"])):g("v-if",!0),b("div",{ref:"container",class:p(["va-tabs__container",e.computedClass])},[b("div",{ref:"tabs",class:"va-tabs__tabs",style:h(e.paginationControlledStyles)},[b("div",{class:"va-tabs__slider-wrapper","aria-hidden":"true",style:h(e.sliderStyles)},H,4),y(s,{components:e.tabConfig},{default:S((()=>[b("div",X,[C(e.$slots,"tabs")])])),_:3},8,["components"])],4)],2),e.showPagination?(c(),f(n,{key:1,class:"va-tabs__pagination","aria-label":"move pagination right",size:"medium",color:e.color,disabled:e.disablePaginationRight,flat:"",icon:e.$props.nextIcon,onClick:e.movePaginationRight},null,8,["color","disabled","icon","onClick"])):g("v-if",!0)],8,z),b("div",D,[C(e.$slots,"default")])],2)},M.__file="src/components/va-tabs/VaTabs.vue";var O=n({name:"VaTab",components:{VaIcon:R},emits:["click","keydown-enter","focus"],props:{...B,selected:{type:Boolean,default:!1},color:{type:String,default:""},icon:{type:String,default:""},label:{type:String,default:""},disabled:{type:Boolean},name:{type:[String,Number]},tag:{type:String,default:"div"}},setup:(e,{emit:t})=>{const i=s(),n=a(!1),r=a(!1),v=a(0),d=a(0),{hasKeyboardFocus:c,keyboardFocusListeners:m}=$(),{tagComputed:p,hrefComputed:b,isActiveRouterLink:f}=I(e),g=u((()=>({"va-tab--disabled":e.disabled}))),{parentDisabled:h,selectTab:y,moveToTab:S,registerTab:C,unregisterTab:T}=_(K,{parentDisabled:!1,tabsList:[],selectTab:e=>e,moveToTab:e=>e,registerTab:e=>e,unregisterTab:e=>e}),k=u((()=>e.disabled||h?-1:0)),{getColor:x}=j(),P=u((()=>x(e.color))),w=u((()=>({color:c.value||r.value||n.value?P.value:"inherit"}))),updateSidePositions=()=>{var e,a;const t=(null===(e=i.value)||void 0===e?void 0:e.offsetLeft)||0,o=(null===(a=i.value)||void 0===a?void 0:a.offsetWidth)||0;v.value=t+o,d.value=t},onTabClick=()=>{y(L),t("click")},onTabKeydown=()=>{y(L),t("keydown-enter")},onFocus=()=>{c.value&&S(L),t("focus")},L={name:u((()=>e.name)),id:null,tabElement:i,isActive:n,tabIndexComputed:k,isActiveRouterLink:f,rightSidePosition:v,leftSidePosition:d,onTabClick:onTabClick,onTabKeydown:onTabKeydown,onFocus:onFocus,updateSidePositions:updateSidePositions};return o((()=>{C(L)})),l((()=>{T(L)})),{tabElement:i,parentDisabled:h,isActive:n,hoverState:r,hasKeyboardFocus:c,keyboardFocusListeners:m,tagComputed:p,hrefComputed:b,isActiveRouterLink:f,colorComputed:P,classComputed:g,computedStyle:w,tabIndexComputed:k,rightSidePosition:v,leftSidePosition:d,updateHoverState:e=>{r.value=e},updateSidePositions:updateSidePositions,onTabClick:onTabClick,onTabKeydown:onTabKeydown,onFocus:onFocus}}});const W=["tabindex"],N=["textContent"];O.render=function render(e,a,t,o,l,i){const n=d("va-icon");return c(),f(T(e.tagComputed),{ref:"tabElement",class:p(["va-tab",e.classComputed]),role:"tab","aria-selected":e.isActive,"aria-disabled":e.$props.disabled||e.parentDisabled,href:e.hrefComputed,target:e.target,to:e.to,replace:e.replace,exact:e.exact,"active-class":e.activeClass,"exact-active-class":e.exactActiveClass,style:h(e.computedStyle),onMouseenter:a[3]||(a[3]=a=>e.updateHoverState(!0)),onMouseleave:a[4]||(a[4]=a=>e.updateHoverState(!1))},{default:S((()=>[b("div",k({class:"va-tab__content"},x(e.keyboardFocusListeners),{tabindex:e.tabIndexComputed,onFocus:a[0]||(a[0]=(...a)=>e.onFocus&&e.onFocus(...a)),onClick:a[1]||(a[1]=(...a)=>e.onTabClick&&e.onTabClick(...a)),onKeydown:a[2]||(a[2]=P(((...a)=>e.onTabKeydown&&e.onTabKeydown(...a)),["enter"]))}),[C(e.$slots,"default",{},(()=>[e.icon?(c(),f(n,{key:0,class:"va-tab__icon",size:"small",name:e.icon},null,8,["name"])):g("v-if",!0),b("span",{class:"va-tab__label",textContent:w(e.label)},null,8,N)]))],16,W)])),_:3},8,["aria-selected","aria-disabled","href","target","to","replace","exact","active-class","exact-active-class","class","style"])},O.__file="src/components/va-tabs/components/VaTab/VaTab.vue";const q=e(O),Y=e(M);export{E as TabKey,K as TabsViewKey,q as VaTab,Y as VaTabs};
//# sourceMappingURL=index50.mjs.map
