import{w as e}from"./withConfigTransport.mjs";import{defineComponent as a,shallowRef as t,ref as o,computed as l,watch as n,nextTick as i,resolveComponent as r,openBlock as u,createBlock as s,withKeys as p,withModifiers as d,withCtx as c,createCommentVNode as g,renderSlot as m,createElementBlock as v,Fragment as b,renderList as f,normalizeClass as y,normalizeStyle as h,createTextVNode as k,toDisplayString as V,withDirectives as S,vModelText as j}from"vue";import{_ as I}from"./global-utils.mjs";import"./global-config.mjs";import"./usePopover.mjs";import{u as $}from"./useColors.mjs";import{u as C,a as P,b as B}from"./useStateful.mjs";import{u as L}from"./useTextColor.mjs";import{VaButtonGroup as w}from"./index10.mjs";import{VaButton as _}from"./index12.mjs";import"./VaConfig.mjs";import"./global-properties.mjs";import"./isSymbol.mjs";import"./ssr-utils.mjs";import"colortranslator";import"./VaButton.mjs";import"./useLoading.mjs";import"./useRouterLink.mjs";import"./useSize.mjs";import"./index31.mjs";import"./VaIcon.mjs";import"./index43.mjs";import"./clamp.mjs";import"./toNumber.mjs";var z=a({name:"VaPagination",components:{VaButtonGroup:w,VaButton:_},emits:C,props:{...P,modelValue:{type:Number,default:1},visiblePages:{type:Number,default:0},pages:{type:Number,default:0},disabled:{type:Boolean,default:!1},color:{type:String,default:"primary"},size:{type:String,default:"medium",validator:e=>["medium","small","large"].includes(e)},boundaryLinks:{type:Boolean,default:!0},boundaryNumbers:{type:Boolean,default:!1},directionLinks:{type:Boolean,default:!0},input:{type:Boolean,default:!1},hideOnSinglePage:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},total:{type:Number,default:null},pageSize:{type:Number,default:null},boundaryIconLeft:{type:String,default:"first_page"},boundaryIconRight:{type:String,default:"last_page"},directionIconLeft:{type:String,default:"chevron_left"},directionIconRight:{type:String,default:"chevron_right"}},setup(e,{emit:a}){const r=t(),u=o(""),s=l((()=>!(!e.total&&0!==e.pageSize||!e.pageSize))),{valueComputed:p}=B(e,a),{textColorComputed:d}=L(),c=l({get:()=>s.value?Math.ceil(p.value/e.pageSize)||1:p.value,set:e=>{p.value=e}}),g=l((()=>{const{visiblePages:a,total:t,pageSize:o,boundaryNumbers:l,pages:n}=e;return((e=1,a,t,o=!1)=>{let l=0;if(0===t&&(t=1),a>t&&(a=t),0===a)l=1,a=t;else{const o=a/2;l=e-o<=0||e>t?1:e+o>t?t-a+1:Math.ceil(e-o)}const n=[];for(let e=0;e<a;e++)n.push(l+e);return o&&(1!==l&&n.splice(0,2,1,"..."),n[n.length-1]!==t&&n.splice(-2,2,"...",t)),n})(c.value||1,a,s.value?Math.ceil(t/o):n,l)})),m=l((()=>s.value?Math.ceil(e.total/e.pageSize)||1:e.pages)),v=l((()=>!!e.visiblePages&&m.value>e.visiblePages)),b=l((()=>{const{boundaryLinks:a,boundaryNumbers:t,input:o}=e;return o||v.value&&a&&!t})),f=l((()=>e.input||v.value&&e.directionLinks)),y=l((()=>m.value>1||!e.hideOnSinglePage&&m.value<=1)),onUserInput=a=>{"..."===a||a<1||a>m.value||(c.value=s.value?(a-1)*e.pageSize+1:a)},resetInput=()=>{var e;u.value="",null===(e=r.value)||void 0===e||e.blur()},{getColor:h}=$(),k=l((()=>({cursor:"default",color:h(e.color),opacity:e.disabled?.4:1})));return n([s,()=>e.pages],(()=>{if(I&&s.value&&e.pages)throw new Error("Please, use either `total` and `page-size` props, or `pages`.")})),{currentValue:c,lastPage:m,changeValue:()=>{if(+u.value===c.value&&resetInput(),!u.value.length)return;let e=Number.parseInt(u.value);switch(!0){case e<1:e=1;break;case e>m.value:e=m.value;break;case isNaN(e):e=c.value}onUserInput(e),resetInput()},inputValue:u,showPagination:y,showBoundaryLinks:b,onUserInput:onUserInput,activeButtonStyle:a=>a===c.value?{backgroundColor:h(e.color),color:d.value}:{color:h(e.color)},showDirectionLinks:f,paginationRange:g,focusInput:()=>{u.value=`${c.value}`,i((()=>{var e;return null===(e=r.value)||void 0===e?void 0:e.setSelectionRange(0,r.value.value.length)}))},inputStyleComputed:k}}});const N=["disabled","placeholder"];z.render=function render(e,a,t,o,l,n){const i=r("va-button"),I=r("va-button-group");return e.showPagination?(u(),s(I,{key:0,class:"va-pagination",flat:e.$props.flat,size:e.$props.size,color:e.$props.color,outline:"",onKeydown:[a[8]||(a[8]=p(d((a=>e.onUserInput(e.currentValue-1)),["stop"]),["left"])),a[9]||(a[9]=p(d((a=>e.onUserInput(e.currentValue+1)),["stop"]),["right"]))]},{default:c((()=>[e.showBoundaryLinks?(u(),s(i,{key:0,"aria-label":"go first page",disabled:e.$props.disabled||1===e.currentValue,icon:e.$props.boundaryIconLeft,onClick:a[0]||(a[0]=a=>e.onUserInput(1))},null,8,["disabled","icon"])):g("v-if",!0),e.showDirectionLinks?(u(),s(i,{key:1,"aria-label":"go prev page",outline:"",disabled:e.$props.disabled||1===e.currentValue,icon:e.$props.directionIconLeft,onClick:a[1]||(a[1]=a=>e.onUserInput(e.currentValue-1))},null,8,["disabled","icon"])):g("v-if",!0),e.$props.input?S((u(),v("input",{key:3,ref:"htmlInput",class:y(["va-pagination__input va-button",{"va-pagination__input--flat":e.$props.flat}]),"aria-label":"enter the page number to go","onUpdate:modelValue":a[2]||(a[2]=a=>e.inputValue=a),disabled:e.$props.disabled,placeholder:`${e.currentValue}/${e.lastPage}`,style:h(e.inputStyleComputed),onKeydown:a[3]||(a[3]=p(((...a)=>e.changeValue&&e.changeValue(...a)),["enter"])),onFocus:a[4]||(a[4]=(...a)=>e.focusInput&&e.focusInput(...a)),onBlur:a[5]||(a[5]=(...a)=>e.changeValue&&e.changeValue(...a))},null,46,N)),[[j,e.inputValue]]):m(e.$slots,"default",{key:2},(()=>[(u(!0),v(b,null,f(e.paginationRange,((a,t)=>(u(),s(i,{key:t,class:y(["va-pagination__numeric-button",{"va-button--ellipsis":"..."===a}]),outline:"","aria-label":`go to ${a} page`,"aria-current":a===e.currentValue,style:h(e.activeButtonStyle(a)),disabled:e.$props.disabled||"..."===a,onClick:t=>e.onUserInput(a)},{default:c((()=>[k(V(a),1)])),_:2},1032,["aria-label","aria-current","style","disabled","class","onClick"])))),128))])),e.showDirectionLinks?(u(),s(i,{key:4,"aria-label":"go next page",outline:"",disabled:e.$props.disabled||e.currentValue===e.lastPage,icon:e.$props.directionIconRight,onClick:a[6]||(a[6]=a=>e.onUserInput(e.currentValue+1))},null,8,["disabled","icon"])):g("v-if",!0),e.showBoundaryLinks?(u(),s(i,{key:5,"aria-label":"go last page",outline:"",disabled:e.$props.disabled||e.currentValue===e.lastPage,icon:e.$props.boundaryIconRight,onClick:a[7]||(a[7]=a=>e.onUserInput(e.lastPage))},null,8,["disabled","icon"])):g("v-if",!0)])),_:3},8,["flat","size","color"])):g("v-if",!0)},z.__file="src/components/va-pagination/VaPagination.vue";const U=e(z);export{U as VaPagination};
//# sourceMappingURL=index39.mjs.map
