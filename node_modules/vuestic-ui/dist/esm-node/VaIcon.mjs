import{defineComponent as e,computed as t,openBlock as n,createBlock as o,resolveDynamicComponent as r,mergeProps as a,withCtx as s,renderSlot as i,createElementBlock as l,Fragment as c,createTextVNode as u,toDisplayString as f,createCommentVNode as m}from"vue";import{_ as p,a as g,b as v,c as d,d as h}from"./usePopover.mjs";import{n as y,o as b,p as S,q as $,r as C,u as w}from"./global-config.mjs";import"./global-utils.mjs";import{u as x}from"./useColors.mjs";import{u as j,a as E}from"./useSize.mjs";var z=function baseSlice$1(e,t,n){var o=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(r);++o<r;)a[o]=e[o+t];return a},R=p,_=z;var k=v,A=function last$1(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},I=function parent$1(e,t){return t.length<2?e:R(e,_(t,0,-1))},F=g;var P=y;var B=d,O=$,T=function baseUnset$1(e,t){return t=k(t,e),null==(e=I(e,t))||delete e[F(A(t))]},U=v,V=b,q=function customOmitClone$1(e){return P(e)?void 0:e},G=S,N=h((function(e,t){var n={};if(null==e)return n;var o=!1;t=B(t,(function(t){return t=U(t,e),o||(o=t.length>1),t})),V(e,G(e),n),o&&(n=O(n,7,q));for(var r=t.length;r--;)T(n,t[r]);return n}));const regexGroupsValues=(e,t)=>{if("string"!=typeof t&&t.global)return[...e.matchAll(t)].map((e=>e.slice(1)));const n=e.match(t)||[];return n?n.length>1?n.slice(1):n:[]},D=/{[^}]*}/g,dynamicSegmentStringToRegex=e=>e.replace(D,"(.*)"),dynamicSegments=(e,t)=>{const n=(e=>(e.match(D)||[]).map((e=>e.replace(/{|}/g,""))))(t),o=((e,t)=>regexGroupsValues(e,dynamicSegmentStringToRegex(t)))(e,t);return n.reduce(((e,t,n)=>({...e,[t]:o[n]})),{})},isIconConfigurationString=e=>"string"==typeof e.name,isIconConfigurationRegex=e=>e.name instanceof RegExp,isMatchConfiguration=(e,t)=>{return isIconConfigurationString(t)?((e,t)=>{const n=dynamicSegmentStringToRegex(t);return((e,t)=>(e.match(t)||[])[0]===e)(e,new RegExp(n))})(e,t.name):!!isIconConfigurationRegex(t)&&(n=e,t.name.test(n));var n},resolveIconConfiguration=(e,t)=>{if(isIconConfigurationString(t))return((e,t)=>{const n=dynamicSegments(e,t.name);return t.resolve&&t.resolve(n)})(e,t);if(isIconConfigurationRegex(t))return((e,t)=>{if(t.name.global)throw new Error(`Bad icon config with name ${t.name}. Please, don't use global regex as name.`);const n=regexGroupsValues(e,t.name);return t.resolveFromRegex&&t.resolveFromRegex(...n)})(e,t);throw Error("Unknown icon config")},findIconConfiguration=(e,t,n=[])=>{if(!e)return;const o=((e,t,n=[])=>{const o=t.find((t=>!n.includes(t.name.toString())&&isMatchConfiguration(e,t)));if(!o)throw new Error(`Can not find icon config from ${e}. Please provide default config.`);return o})(e,t,n),r=C(resolveIconConfiguration(e,o),o);return n=[...n,o.name.toString()],C(findIconConfiguration(r.to,t,n),r)},useIcons=e=>{const{getGlobalConfig:t}=w();return{getIcon:e=>((e,t)=>{const n=findIconConfiguration(e,t);return void 0===n?{}:(e=>{const t=e;return["name","to","resolve","resolveFromRegex"].forEach((e=>{delete t[e]})),t})(n)})(e,t().icons||[])}};var H=e({name:"VaIcon",props:{...j,name:{type:String,default:""},tag:{type:String},component:{type:Object},color:{type:String},rotation:{type:[String,Number]},spin:{type:[String,Boolean]},flip:{type:String,default:"off",validator:e=>["off","horizontal","vertical","both"].includes(e)}},setup(e,{attrs:n}){const{getColor:o}=x(),{sizeComputed:r}=E(e),{getIcon:a}=useIcons(),s=t((()=>a(e.name))),i=t((()=>e.component||e.tag||s.value.component||s.value.tag||"i")),l=t((()=>({...s.value.attrs,...N(n,["class"])}))),getSpinClass=e=>{if(void 0!==e&&!1!==e)return"counter-clockwise"===e?"va-icon--spin-reverse":"va-icon--spin"},c=t((()=>{var t;return[s.value.class,getSpinClass(null!==(t=e.spin)&&void 0!==t?t:s.value.spin)]})),u=t((()=>{const t=e.rotation?`rotate(${e.rotation}deg)`:"",n="vertical"===e.flip||"both"===e.flip?-1:1,o="horizontal"===e.flip||"both"===e.flip?-1:1;return`${"off"===e.flip?"":`scale(${n}, ${o})`} ${t}`.trim()})),f=t((()=>({transform:u.value,cursor:n.onClick?"pointer":null,color:e.color?o(e.color,void 0,!0):s.value.color,fontSize:r.value})));return{iconConfig:s,computedTag:i,computedAttrs:l,computedClass:c,computedStyle:f}}});H.render=function render(e,t,p,g,v,d){return n(),o(r(e.computedTag),a({class:["va-icon",e.computedClass],"aria-hidden":"true",style:e.computedStyle},e.computedAttrs,{notranslate:""}),{default:s((()=>[i(e.$slots,"default",{},(()=>[e.iconConfig.content?(n(),l(c,{key:0},[u(f(e.iconConfig.content),1)],2112)):m("v-if",!0)]))])),_:3},16,["class","style"])},H.__file="src/components/va-icon/VaIcon.vue";export{z as _,N as o,H as s,useIcons as u};
//# sourceMappingURL=VaIcon.mjs.map
